---
id: dedicated-linux-rescue
title: "เซิร์ฟเวอร์เฉพาะ: กู้คืนไฟล์ของคุณด้วย System Rescue"
description: "ค้นพบวิธีการกู้ข้อมูลและสร้างสำรองข้อมูลจากเซิร์ฟเวอร์ที่บูตไม่ขึ้นด้วย SystemRescue ISO พร้อมการโอนถ่ายไฟล์อย่างปลอดภัย → เรียนรู้เพิ่มเติมตอนนี้"
sidebar_label: System Rescue (สำรองข้อมูล)
services:
  - dedicated
---

import InlineVoucher from '@site/src/components/InlineVoucher';

## แนะนำ

เซิร์ฟเวอร์ของคุณบูตไม่ขึ้นใช่ไหม? คุณถูกล็อกออกจากระบบ หรืออยากสร้างสำรองข้อมูลก่อนจะทำการเปลี่ยนแปลง?
โดยการบูตเซิร์ฟเวอร์ของคุณด้วย **SystemRescue ISO** คุณยังสามารถเข้าถึงไดรฟ์ของคุณ กู้คืนไฟล์สำคัญ และสร้างสำรองข้อมูลในเครื่องได้ แม้ระบบปฏิบัติการเดิมจะไม่สามารถเข้าถึงได้แล้วก็ตาม

เพื่อโอนถ่ายข้อมูลที่กู้คืนมาอย่างปลอดภัย คุณสามารถใช้ **SFTP (โปรโตคอลโอนถ่ายไฟล์แบบปลอดภัย)** วิธีนี้ช่วยให้คุณคัดลอกไฟล์จากระบบกู้คืนไปยังเครื่องคอมพิวเตอร์ของคุณหรือเซิร์ฟเวอร์อื่นผ่านการเชื่อมต่อที่ปลอดภัยและเข้ารหัส

<InlineVoucher />

## การเตรียมตัว

สำหรับการสำรองข้อมูลนี้ คุณจะใช้ **SystemRescue ISO เวอร์ชัน 12.01**  
เริ่มต้นด้วยการเข้าไปที่แผงควบคุมของเซิร์ฟเวอร์เฉพาะของคุณ แล้วไปที่ส่วน **ติดตั้งเริ่มต้น (Initial installation)**

เลือก ISO **SystemRescue 12.01** จากตัวเลือกที่มี หลังจากเลือก ISO ที่ถูกต้องแล้ว ให้คลิกที่ **บูตจาก ISO (Boot from ISO)** เพื่อเริ่มกระบวนการบูต เมื่อเซิร์ฟเวอร์บูตจาก ISO เรียบร้อยแล้ว ให้เชื่อมต่อผ่าน [อินเทอร์เฟซ iLO](dedicated-ilo.md) เพื่อดำเนินการต่อ

![img](https://screensaver01.zap-hosting.com/index.php/s/L35tCT8zJ4riTko/preview)

ใน **อินเทอร์เฟซจัดการ iLO** เปิด **คอนโซล HTML** เพื่อเข้าถึงหน้าจอระยะไกลของเซิร์ฟเวอร์ เมื่อคอนโซลพร้อมใช้งาน คุณจะเห็นเมนูบูตของ **SystemRescue ISO** จากตรงนี้ ให้เลือกตัวเลือกบูตโดยใช้ **พารามิเตอร์เริ่มต้น (default parameters)**

วิธีนี้จะทำให้ SystemRescue เริ่มต้นด้วยการตั้งค่ามาตรฐานที่แนะนำ เพื่อให้ได้สภาพแวดล้อมที่เสถียรและพร้อมใช้งานสำหรับงานบำรุงรักษาระบบหรือสำรองข้อมูล

![img](https://screensaver01.zap-hosting.com/index.php/s/gzLJxw9FWZs4AJ7/download)

## การเมานต์ไดรฟ์

ก่อนจะเมานต์ไดรฟ์ จำเป็นต้องดูภาพรวมของอุปกรณ์จัดเก็บข้อมูลและพาร์ติชันที่มีอยู่ก่อน คุณสามารถใช้คำสั่งนี้:

```
fdisk -l
```

คำสั่งนี้จะแสดงรายการไดรฟ์ที่ตรวจพบพร้อมรายละเอียดพาร์ติชัน ประกอบด้วย:

- อุปกรณ์จัดเก็บข้อมูลที่เชื่อมต่อ (เช่น `/dev/sda`, `/dev/sdb`),
- ขนาดของแต่ละไดรฟ์,
- ประเภทพาร์ติชัน,
- พาร์ติชันที่มีอยู่ (เช่น `/dev/sda1`, `/dev/sda2`, …),
- ประเภทระบบไฟล์ (ถ้าตรวจพบ)

ในตัวอย่างนี้ ไดรฟ์ `/dev/sda` มีสามพาร์ติชันคือ `/dev/sda1`, `/dev/sda2` และ `/dev/sda3` ให้แน่ใจว่าเลือกพาร์ติชันที่ถูกต้องก่อนเมานต์ โดยผลลัพธ์จาก `fdisk -l` จะช่วยให้คุณหลีกเลี่ยงความผิดพลาดโดยแสดงอย่างชัดเจนว่าไดรฟ์ไหนมีข้อมูลอะไร ตัวอย่าง:

```
Disk /dev/sda: 111.76 GiB, 119998201240 bytes, 234373120 sectors
Device        Boot   Start       End   Sectors   Size Type
/dev/sda1      *       2048   1050623   1048576   512M EFI System
/dev/sda2           1050624   3147775   2097152     1G Linux filesystem
/dev/sda3           3147776 234440703 231292928   110G Linux LVM
```

เมื่อคุณระบุพาร์ติชันที่ถูกต้องแล้ว ขั้นตอนถัดไปคือสร้างไดเรกทอรีที่จะใช้เป็นจุดเมานต์ นี่คือที่ที่พาร์ติชันจะถูกเข้าถึง จากนั้นเมานต์พาร์ติชันที่ต้องการเข้าไปในไดเรกทอรีนี้ แนะนำให้เมานต์ใน **โหมดอ่านอย่างเดียว (read-only)** เพื่อความปลอดภัยของข้อมูล

ใช้คำสั่งเหล่านี้เพื่อสร้างจุดเมานต์และเมานต์พาร์ติชัน:

```
mkdir /mnt/rescue
mount -o ro /dev/sdaX /mnt/rescue
```

แทนที่ `/dev/sdaX` ด้วยพาร์ติชันที่ถูกต้องที่คุณหาได้จาก `fdisk -l` ในตัวอย่างนี้ `/dev/sda2` คือพาร์ติชันที่ถูกต้องสำหรับดิสก์ของเรา

## การตั้งค่าไฟร์วอลล์

เพื่อความปลอดภัย SystemRescue จะเปิดใช้งานไฟร์วอลล์โดยอัตโนมัติ ซึ่งหมายความว่าการเชื่อมต่อขาเข้าทั้งหมดจะถูกบล็อกเพื่อป้องกันการเข้าถึงโดยไม่ได้รับอนุญาต

แต่ในกรณีนี้ คุณต้องอนุญาตการเชื่อมต่อจากเครื่องของคุณไปยังเซิร์ฟเวอร์ SFTP ที่รันบน SystemRescue คุณต้องตั้งค่าไฟร์วอลล์ให้อนุญาตทราฟฟิก SFTP หรือปิดไฟร์วอลล์ชั่วคราว

ถ้าคุณทำงานในเครือข่ายที่เชื่อถือได้ วิธีที่ง่ายและเร็วที่สุดคือหยุดบริการไฟร์วอลล์ใน SystemRescue ด้วยคำสั่งนี้:

```
systemctl stop iptables
```

## การตั้งรหัสผ่าน root

ไคลเอนต์ SFTP ต้องยืนยันตัวตนด้วยชื่อผู้ใช้และรหัสผ่านเพื่อเข้าถึงข้อมูลจากเซิร์ฟเวอร์ SFTP โดยใช้บัญชี root ของระบบเพื่อให้ไคลเอนต์เข้าถึงไฟล์ที่มองเห็นใน SystemRescue ได้ โดยปกติแล้ว SystemRescue จะไม่อนุญาตให้ล็อกอินเป็น root โดยตรง คุณต้องตั้งรหัสผ่านเพื่อให้ไคลเอนต์สามารถยืนยันตัวตนได้ กำหนดรหัสผ่านด้วยคำสั่งนี้:

```
[root@sysrescue ~]# passwd root
New password:
Retype new password:
passwd: password updated successfully
```

## การโอนถ่ายข้อมูล

ตอนนี้คุณพร้อมที่จะสำรองข้อมูลแล้ว เปิดไคลเอนต์ FTP ที่คุณชอบและเชื่อมต่อกับเซิร์ฟเวอร์ของคุณ ให้เลือกโปรโตคอล `SFTP` สำหรับโฮสต์เนม ให้ใส่ `ที่อยู่ IP` ของเซิร์ฟเวอร์ ใช้พอร์ต `21` และล็อกอินด้วยชื่อผู้ใช้ `root` และรหัสผ่านที่คุณตั้งไว้ก่อนหน้านี้

![img](https://screensaver01.zap-hosting.com/index.php/s/armZ9db3nXsJW2o/download)

เมื่อคุณเชื่อมต่อกับเซิร์ฟเวอร์ผ่าน **SFTP** เป็นครั้งแรก WinSCP จะแสดงคำเตือนด้านความปลอดภัยนี้ เพราะ **คีย์โฮสต์** ของเซิร์ฟเวอร์ยังไม่ถูกเก็บไว้ในแคชของเครื่องคุณ

ในกรณีนี้ ถ้าคุณมั่นใจว่า IP ถูกต้องและคุณตั้งใจเชื่อมต่อนี้ **ปลอดภัยที่จะเชื่อถือเซิร์ฟเวอร์** แค่คลิก **"Yes"** เพื่อยืนยัน ระบบจะเพิ่มคีย์ของเซิร์ฟเวอร์ลงในแคชของคุณ ทำให้ไม่ต้องถามซ้ำในครั้งถัดไป

![img](https://screensaver01.zap-hosting.com/index.php/s/y5353jyzky67LxB/preview)

เมื่อเชื่อมต่อแล้ว ให้ไปที่ **ไดเรกทอรี rescue** ที่คุณสร้างไว้ก่อนหน้านี้ จากตรงนี้คุณจะเข้าถึงไฟล์ของคุณและเริ่มดาวน์โหลดไปยังเครื่องของคุณได้เลย แค่เลือกโฟลเดอร์ที่ต้องการ สำรองข้อมูล และโอนถ่ายอย่างปลอดภัยผ่าน SFTP

![img](https://screensaver01.zap-hosting.com/index.php/s/QiS4wiTWXx6g8aT/download)

## สรุป

ตอนนี้คุณกู้คืนและสำรองไฟล์สำคัญของคุณได้สำเร็จแล้ว  
หมายความว่าข้อมูลของคุณปลอดภัยและพร้อมกู้คืนเมื่อไหร่ก็ได้ ณ จุดนี้ คุณสามารถดำเนินการต่อ เช่น ติดตั้งเซิร์ฟเวอร์ใหม่ ซ่อมแซมระบบ หรือย้ายข้อมูลไปยังสภาพแวดล้อมใหม่

ถ้ามีคำถามหรืออยากได้ความช่วยเหลือ ติดต่อทีมซัพพอร์ตของเราได้เลย พร้อมช่วยเหลือคุณทุกวัน! 🙂

<InlineVoucher />