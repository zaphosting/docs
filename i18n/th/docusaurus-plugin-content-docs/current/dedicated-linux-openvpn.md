---
id: dedicated-linux-openvpn
title: "ตั้งค่า OpenVPN บนเซิร์ฟเวอร์ Linux - สร้างโครงสร้าง VPN ที่ปลอดภัยของคุณเอง"
description: "ค้นพบวิธีการปกป้องการเชื่อมต่ออินเทอร์เน็ตและเข้าถึงเนื้อหาที่ถูกจำกัดด้วย OpenVPN บนเซิร์ฟเวอร์ Linux → เรียนรู้เพิ่มเติมตอนนี้"
sidebar_label: ติดตั้ง OpenVPN
services:
  - vserver
  - dedicated
---

import InlineVoucher from '@site/src/components/InlineVoucher';

## บทนำ

OpenVPN คือซอฟต์แวร์ VPN ที่ทรงพลังและยืดหยุ่น ช่วยให้คุณเชื่อมต่ออย่างปลอดภัยผ่านอินเทอร์เน็ต มันเป็นโซลูชันแบบโอเพ่นซอร์สที่มอบเทคโนโลยี VPN ที่แข็งแกร่งและปรับแต่งได้ เพื่อสร้างการเชื่อมต่อที่เข้ารหัสระหว่างอุปกรณ์ของคุณกับเซิร์ฟเวอร์ VPN ด้วยการใช้ OpenVPN ผู้ใช้สามารถปกป้องการเชื่อมต่ออินเทอร์เน็ต รักษาความเป็นส่วนตัวออนไลน์ และเข้าถึงเนื้อหาที่ถูกจำกัดตามภูมิภาคได้ไม่ว่าคุณจะอยู่ที่ไหนในโลก ในคู่มือนี้ เราจะพาคุณไปดูขั้นตอนการติดตั้งและตั้งค่า **OpenVPN** บนเซิร์ฟเวอร์ Linux

## การเตรียมตัว

อันดับแรกต้องเปิดใช้งานไดรเวอร์เครือข่าย **TUN** ก่อน ขั้นตอนนี้ไม่จำเป็นสำหรับเซิร์ฟเวอร์ root  
โดยให้สร้างไฟล์ใหม่ชื่อ **tunscript.sh** ในโฟลเดอร์ **/usr/sbin**

```
nano /usr/sbin/tunscript.sh 
```

จากนั้นใส่บรรทัดต่อไปนี้ลงไป:
```
#!/bin/bash
mkdir /dev/net
mknod /dev/net/tun c 10 200
chmod 0666 /dev/net/tun
```

บันทึกไฟล์โดยกด `CTRL+O` ตามด้วย `Y` แล้วกด `Enter` เพื่อออกจากไฟล์กด `CTRL+X` หลังจากนั้นรันคำสั่งนี้:

```
chmod +x /usr/sbin/tunscript.sh
```

เมื่อทำเสร็จแล้ว ให้รันคำสั่ง ``crontab -e`` และเลือก **nano editor** [1] เพิ่มบรรทัดนี้ไว้ท้ายไฟล์:
``` @reboot /usr/sbin/tunscript.sh || exit 1 ```

บันทึกไฟล์โดยกด `CTRL+O` ตามด้วย `Y` แล้วกด `Enter` เพื่อออกจากไฟล์กด `CTRL+X` หลังจากนี้คุณจะสามารถใช้งานได้หลังรีสตาร์ทเครื่อง

## การติดตั้ง

เพื่อทำการติดตั้ง OpenVPN ให้รันคำสั่งนี้ในคอนโซล:
```
wget https://git.io/vpn -O openvpn-install.sh && bash openvpn-install.sh
```

จากนั้นจะมีหน้าต่างถามว่าคุณต้องการใช้ UDP หรือ TCP เราแนะนำ UDP ให้พิมพ์ `1` แล้วกด `Enter` หลังจากนั้นจะถามพอร์ตสำหรับ OpenVPN เราแนะนำให้ใช้พอร์ตดีฟอลต์

ต่อไปให้ตั้งค่าเซิร์ฟเวอร์ DNS เราแนะนำให้ใช้ Google Public DNS หรือ Cloudflare DNS:
```
8.8.8.8 / 8.8.4.4 - Google Public DNS
1.1.1.1 / 1.0.0.1 - Cloudflare DNS
```

ขั้นตอนถัดไปให้ตั้งชื่อไคลเอนต์ คุณสามารถตั้งชื่ออะไรก็ได้ตามที่ต้องการ เช่น ชื่ออุปกรณ์ของคุณ

## การตั้งค่า

### เพิ่มไคลเอนต์เพิ่มเติม

ถ้าคุณต้องการสร้างการเชื่อมต่อหลายอัน การสร้างบัญชีหลายบัญชีจะช่วยได้ เพื่อสร้างบัญชีใหม่ ให้รันคำสั่งนี้:
```
wget https://git.io/vpn -O openvpn-install.sh && bash openvpn-install.sh
```

เลือก `1` แล้วกดยืนยัน จากนั้นตั้งชื่อไคลเอนต์ใหม่

### ลบไคลเอนต์
รันคำสั่งนี้เพื่อลบไคลเอนต์:
```
wget https://git.io/vpn -O openvpn-install.sh && bash openvpn-install.sh
```

เลือกหมายเลขไคลเอนต์ที่ต้องการลบในรายการ แล้วกด `Enter` คุณจะถูกถามเพื่อยืนยันการลบ ถ้าแน่ใจให้กด `Y` แล้วกด `Enter`  
ไคลเอนต์จะถูกลบออกในขั้นตอนนี้

## การถอนการติดตั้ง

ถ้าคุณไม่ต้องการใช้ OpenVPN อีกต่อไป สามารถถอนการติดตั้งได้ด้วยวิธีนี้:
```
wget https://git.io/vpn -O openvpn-install.sh && bash openvpn-install.sh
```
กด `3` และยืนยันอีกครั้ง OpenVPN จะถูกถอนการติดตั้งทันที

## การเชื่อมต่อกับ VPN

ถ้าคุณต้องการเชื่อมต่อกับ VPN เราแนะนำให้ใช้ **[OpenVPN client](https://openvpn.net/community-downloads/)** ดาวน์โหลดโปรแกรมนี้บนอุปกรณ์ที่คุณต้องการเชื่อมต่อ

เชื่อมต่อผ่าน SFTP ไปยังเซิร์ฟเวอร์ของคุณเพื่อดาวน์โหลดไฟล์ .ovpn ที่สร้างขึ้นมา จากนั้นลบไฟล์นี้ออกจากเซิร์ฟเวอร์  
เมื่อคุณติดตั้งไคลเอนต์แล้ว ให้เปิดโปรแกรม คลิกขวาที่ไอคอน OpenVPN บนทาสก์บาร์ แล้วเลือก 'Import file' เลือกไฟล์ที่ดาวน์โหลดมาแล้วคลิก 'Open'  
เพื่อเชื่อมต่อ ให้คลิกที่ไอคอนอีกครั้งแล้วเลือก "Connect"

:::info
ถ้าคุณนำเข้าไฟล์หลายไฟล์ คุณต้องเลือกไคลเอนต์ที่ต้องการใช้ก่อนแล้วจึงคลิก Connect
:::