---
id: vserver-windows-port
title: "VPS: การจัดการกฎไฟร์วอลล์ Windows Defender"
description: "สำรวจวิธีจัดการกฎไฟร์วอลล์ Windows Defender และปรับแต่งการส่งต่อพอร์ตเพื่อการสื่อสารเซิร์ฟเวอร์ที่ปลอดภัย → เรียนรู้เพิ่มเติมตอนนี้"
sidebar_label: การส่งต่อพอร์ต (ไฟร์วอลล์)
services:
  - vserver
---

import InlineVoucher from '@site/src/components/InlineVoucher';

## แนะนำ

Windows OS มาพร้อมกับ Windows Defender Firewall ที่จัดการทราฟฟิกขาเข้าและขาออกระหว่างเซิร์ฟเวอร์กับอินเทอร์เน็ต ในคู่มือนี้เราจะพาคุณไปรู้จักกับการจัดการกฎไฟร์วอลล์และเคล็ดลับทั่วไปสำหรับการส่งต่อพอร์ต

<InlineVoucher />

## การเข้าถึง Windows Defender Firewall

Windows OS มีแอป **Windows Defender Firewall with Advanced Security** เป็นแอปหลักของระบบที่ช่วยให้คุณจัดการกฎไฟร์วอลล์ได้ง่ายในที่เดียว

คุณสามารถเข้าถึงได้ง่ายๆ โดยค้นหาชื่อแอปนี้ในแถบค้นหาของ Windows หรือกดปุ่ม/ไอคอน Windows แล้วใช้แถบค้นหาในเมนูเริ่ม

![](https://screensaver01.zap-hosting.com/index.php/s/MEdQwo2do8zA84m/preview)

## การจัดการกฎ

แอปและโปรเซสส่วนใหญ่ โดยเฉพาะอย่างยิ่งที่ต้องเข้าถึงผ่านอินเทอร์เน็ต เช่น เซิร์ฟเวอร์เกม หรือเว็บเซิร์ฟเวอร์ จะต้องมีการส่งต่อพอร์ตเพื่อให้ลูกค้าสามารถสื่อสารกับเซิร์ฟเวอร์ของคุณ (โฮสต์) ได้

:::info
โดยค่าเริ่มต้น Windows จะเปิดไฟร์วอลล์เฉพาะแอปที่ต้องการเท่านั้น โดยจะปิดพอร์ตอื่นๆ ทั้งหมด เพื่อป้องกันการเปิดพอร์ตโดยไม่จำเป็น ลดความเสี่ยง นี่จึงเป็นเหตุผลที่คุณอาจเห็นการแจ้งเตือน UAC เมื่อเปิดเกมครั้งแรก เพื่อยืนยันกฎไฟร์วอลล์ใหม่
:::

ใน Windows การจัดการกฎทำได้ง่ายสองวิธี คือ สร้างกฎสำหรับโปรแกรม หรือสร้างกฎที่ครอบคลุมพอร์ตทั้งหมด (ซึ่งจะรวมโปรแกรมหรือโปรเซสที่ใช้พอร์ตนั้นด้วย)

มีกฎอยู่สองประเภท:
- กฎขาเข้า (Inbound Rule): กฎที่ควบคุมการสื่อสารขาเข้า (จากอินเทอร์เน็ตมายังเซิร์ฟเวอร์ของคุณ)
- กฎขาออก (Outbound Rule): กฎที่ควบคุมการสื่อสารขาออก (จากเซิร์ฟเวอร์ของคุณไปยังอินเทอร์เน็ต)

โดยปกติเมื่อส่งต่อพอร์ต คุณจะต้องสร้างกฎทั้งสองประเภทเพื่ออนุญาตการสื่อสารกับลูกค้า แต่ก็ขึ้นอยู่กับกรณีการใช้งานและการตั้งค่าของคุณ

![](https://screensaver01.zap-hosting.com/index.php/s/a8HCX6ZyWfemQtN/preview)

### กฎโปรแกรม

การสร้างกฎโปรแกรมมักเป็นตัวเลือกที่แนะนำเพราะจำกัดการสื่อสารเฉพาะโปรแกรมหรือโปรเซสเท่านั้น แทนที่จะเปิดพอร์ตทั้งพอร์ตซึ่งหมายความว่าโปรแกรม/เซอร์วิสใดก็ได้สามารถสื่อสารผ่านพอร์ตนั้นได้

ตอนนี้คุณจะสร้างกฎโปรแกรมสองกฎ คือ กฎขาออกและขาเข้า ซึ่งทั้งสองกฎอนุญาตการเชื่อมต่อ

ในตัวอย่างด้านล่าง คุณจะตั้งค่าเฉพาะกฎ **ขาเข้า** เท่านั้น ขั้นตอนเหมือนกันเป๊ะๆ ดังนั้นคุณควรทำซ้ำขั้นตอนนี้เพื่อสร้างกฎขาออกเองด้วย

เริ่มโดยคลิกขวาที่ **Inbound Rules** ในแถบด้านข้าง แล้วเลือกตัวเลือก **New Rules...**

![](https://screensaver01.zap-hosting.com/index.php/s/mnZXWgEWyxSciE4/preview)

ในส่วนแรก เลือกตัวเลือก **Program** เป็นประเภทกฎ

![](https://screensaver01.zap-hosting.com/index.php/s/NPm9ae8BsD78An9/preview)

ตอนนี้คุณต้องเลือกโปรแกรมที่ต้องการสร้างกฎส่งต่อพอร์ต โดยใช้ปุ่มเรียกดู ในตัวอย่างนี้เลือกเบราว์เซอร์ Mozilla Firefox เป็นตัวอย่างแอป

![](https://screensaver01.zap-hosting.com/index.php/s/XsS2iTa4JjXF8j5/preview)

ในส่วนการกระทำ เลือกตัวเลือก **Allow the Connection**

![](https://screensaver01.zap-hosting.com/index.php/s/pnFz9EoxPqPT8xS/preview)

ในส่วนโปรไฟล์ ให้ติ๊กเลือกทุกตัวเลือกไว้ แล้วไปยังส่วนสุดท้าย ที่นี่คุณควรตั้งชื่อกฎที่จำง่าย และสามารถเพิ่มคำอธิบายเสริมได้ถ้าต้องการ

เมื่อพร้อมแล้ว กดปุ่ม **Finish** เพื่อสร้างกฎ

![](https://screensaver01.zap-hosting.com/index.php/s/dpWEYFYGtWQYkw3/preview)

คุณได้สร้างกฎโปรแกรมสำหรับเซิร์ฟเวอร์ Windows ของคุณเรียบร้อยแล้ว ตอนนี้ให้ทำซ้ำขั้นตอนนี้เพื่อสร้าง **กฎขาออก** โดยทำตามขั้นตอนเดียวกัน แต่สร้างในส่วน Outbound Rules

### กฎพอร์ต

การสร้างกฎพอร์ตทั่วไปก็มีประโยชน์สำหรับหลายกรณีการใช้งาน และมีขั้นตอนคล้ายกับก่อนหน้านี้

ตอนนี้คุณจะสร้างกฎพอร์ตสองกฎ คือ กฎขาออกและขาเข้า ซึ่งทั้งสองกฎอนุญาตการเชื่อมต่อ

ในตัวอย่างด้านล่าง คุณจะตั้งค่าเฉพาะกฎ **ขาเข้า** เท่านั้น ขั้นตอนเหมือนกันเป๊ะๆ ดังนั้นคุณควรทำซ้ำขั้นตอนนี้เพื่อสร้างกฎขาออกเองด้วย

เริ่มโดยคลิกขวาที่ **Inbound Rules** ในแถบด้านข้าง แล้วเลือกตัวเลือก **New Rules...**

![](https://screensaver01.zap-hosting.com/index.php/s/mnZXWgEWyxSciE4/preview)

ในส่วนแรก เลือกตัวเลือก **Port** เป็นประเภทกฎ

![](https://screensaver01.zap-hosting.com/index.php/s/eobA3wzbwQSqjpK/preview)

ตอนนี้คุณต้องกำหนดประเภทพอร์ต (TCP หรือ UDP) และพอร์ตที่ต้องการส่งต่อ ถ้าต้องการส่งต่อทั้ง TCP และ UDP คุณต้องสร้างกฎแยกกันสองกฎ สำหรับแต่ละประเภทพอร์ต

ในตัวอย่างนี้ ใช้พอร์ต 25565 (TCP) เป็นพอร์ตตัวอย่าง ซึ่งเป็นพอร์ตดีฟอลต์ของ Minecraft

![](https://screensaver01.zap-hosting.com/index.php/s/yMco5L6ERWiLEHk/preview)

ในส่วนการกระทำ เลือกตัวเลือก **Allow the Connection**

![](https://screensaver01.zap-hosting.com/index.php/s/pnFz9EoxPqPT8xS/preview)

ในส่วนโปรไฟล์ ให้ติ๊กเลือกทุกตัวเลือกไว้ แล้วไปยังส่วนสุดท้าย ที่นี่คุณควรตั้งชื่อกฎที่จำง่าย และสามารถเพิ่มคำอธิบายเสริมได้ถ้าต้องการ

เมื่อพร้อมแล้ว กดปุ่ม **Finish** เพื่อสร้างกฎ

![](https://screensaver01.zap-hosting.com/index.php/s/Ro5k6JgTF73exoH/preview)

คุณได้สร้างกฎพอร์ตสำหรับเซิร์ฟเวอร์ Windows ของคุณเรียบร้อยแล้ว ตอนนี้ให้ทำซ้ำขั้นตอนนี้เพื่อสร้าง **กฎขาออก** โดยทำตามขั้นตอนเดียวกัน แต่สร้างในส่วน Outbound Rules

<InlineVoucher />