---
id: vserver-linux-firewall
title: "VPS: ุฅุฏุงุฑุฉ ุงูุฌุฏุงุฑ ุงููุงุฑู ูู ููููุณ"
description: "ุชุนูู ููููุฉ ุฅุนุฏุงุฏ ุฌุฏุงุฑ ูุงุฑู ูุชุฃููู ุณูุฑูุฑู ูุงูุณูุงุญ ุจุงูุงุชุตุงูุงุช ุงูุฎุงุฑุฌูุฉ ุงูุถุฑูุฑูุฉ โ ุชุนููู ุงููุฒูุฏ ุงูุขู"
sidebar_label: ุฅุนุงุฏุฉ ุชูุฌูู ุงูููุงูุฐ (ุงูุฌุฏุงุฑ ุงููุงุฑู)
services:
  - vserver
---

import InlineVoucher from '@site/src/components/InlineVoucher';

## ููุฏูุฉ

ููุซูุฑ ูู ุงูุฎุฏูุงุช ูุงูุจุฑุงูุฌุ ูุงุฒู ุชุณูุญ ุจุงูุงุชุตุงูุงุช ุงูุฎุงุฑุฌูุฉ. ูุฐุง ูููู ุนู ุทุฑูู ุฅุนุฏุงุฏ ุฌุฏุงุฑ ูุงุฑู.
ูู ูุฐุง ุงูุฏูููุ ุฑุงุญ ุชุชุนูู ููู ุชุถุจุท ุฌุฏุงุฑ ูุงุฑู ูุชุณูุญ ููุฐู ุงูุงุชุตุงูุงุช.

<InlineVoucher />

## ุงูุชุญุถูุฑ

ุนุดุงู ุชุซุจุช ุงูุฌุฏุงุฑ ุงููุงุฑูุ ุชุญุชุงุฌ ุชุชุตู ุจุณูุฑูุฑู ุนุจุฑ SSH. ุฅุฐุง ูุง ุชุนุฑู ูููุ ุชูุฏุฑ ุชุทููุน ุนูู [ุฏููู ุงููุตูู ุงูุฃููู](vserver-linux-ssh.md).
ุจุนุฏ ุงูุงุชุตุงูุ ูุงุฒู ุชุญุฏุซ ุงูุณูุฑูุฑ ุจุงุณุชุฎุฏุงู `apt update` ู `apt upgrade`.

## ุงุณุชุฎุฏุงู UFW (ุณูู)

ููู ุจุฑุงูุฌ ุฌุฏุงุฑ ูุงุฑู ูุซูุฑุฉ ูููููุณุ ูุฐุง ุงูุฏููู ุจูุฑูุฒ ุนูู ุฃุดูุฑ ุงุซููู: UFW ู IPTables.
ุจูุจุฏุฃ ุจู UFW ูุฃูู ุฃุณูู ูู ุงูุฅุนุฏุงุฏ ูุงูุฅุฏุงุฑุฉ.

### ุชุซุจูุช UFW

ุชูุฏุฑ ุชุซุจุช UFW ุจูู ุจุณุงุทุฉ ุนู ุทุฑูู APT ุจุงุณุชุฎุฏุงู `sudo apt install ufw`.
ุนุดุงู ูุง ุชููุฏ ุงุชุตุงู SSHุ ูุง ุชูุนู ุงูุฌุฏุงุฑ ุงููุงุฑู ุจุนุฏุ ูุงุฒู ุชุถุจุทู ุฃูู.

### ุฅุนุฏุงุฏ UFW

ููุตุญ ุจุงุณุชุฎุฏุงู ุงูุณูุงุณุงุช ุงูุชุงููุฉ ุจุดูู ุงูุชุฑุงุถู:

`sudo ufw default deny incoming`
ู
`sudo ufw default allow outgoing`

ุงูุญูู ูุงุฒู ุชุณูุญ ุจุงุชุตุงู SSH ูุฃู ูููุฐ ุซุงูู ุชุจู ุชูุชุญู:

`sudo ufw allow 22` ููู SSH

`sudo ufw allow 80` ูุซุงู ูู HTTP

`sudo ufw allow 25565` ูุซุงู ูุณูุฑูุฑ Minecraft


ูุชูุนูู UFWุ ุดุบู ุงูุฃูุฑ `sudo ufw enable`. ุชูุฏุฑ ุฏุงูููุง ุชูุชุญ ููุงูุฐ ุฃูุซุฑ ุฅุฐุง ุงุญุชุฌุช ุจุงุณุชุฎุฏุงู `sudo ufw allow PORT`


### ุฅุถุงูุฉ ุฅุนุงุฏุฉ ุชูุฌูู ุงูููุงูุฐ

ุนุดุงู ุชุนูุฏ ุชูุฌูู ูููุฐุ ุชูุฏุฑ ุชุณุชุฎุฏู ุงูุฃูุฑ ุงูุชุงูู:

ููููุงูุฐ TCP:

`sudo ufw allow PORT/tcp` ุงุณุชุจุฏู PORT ุจุงููููุฐ ุงููู ุชุจู ุชุนูุฏ ุชูุฌููู.

ูุซุงู: `sudo ufw allow 25565/tcp` ูุณูุฑูุฑ Minecraft

ููููุงูุฐ UDP:

`sudo ufw allow PORT/udp` ุงุณุชุจุฏู PORT ุจุงููููุฐ ุงููู ุชุจู ุชุนูุฏ ุชูุฌููู.

ูุซุงู: `sudo ufw allow 9987/udp` ูุณูุฑูุฑ TeamSpeak 3

### ุนุฑุถ ูุญุฐู ุฅุนุงุฏุฉ ุชูุฌูู ุงูููุงูุฐ

ูุนุฑุถ ูู ููุงุนุฏ ุงูููุงูุฐุ ุดุบู `sudo ufw status numbered`. ุฅุฐุง ุชุจู ุชุญุฐู ูุงุนุฏุฉุ ุงุณุชุฎุฏู `sudo ufw delete NUMBER`ุ ุญูุซ NUMBER ูู ุฑูู ุงููุงุนุฏุฉ ูู ุงููุงุฆูุฉ.

## ุชุซุจูุช IPTables (ูุชูุฏู)

ูุนุธู ุงูุฃูุธูุฉ ุชุฌู ูุน IPTables ูุซุจุชุฉ ุจุดูู ุงูุชุฑุงุถูุ ููู ููุชุฃูุฏ ุชูุฏุฑ ุชุดุบู `sudo apt install iptables`.

### ุฅุนุฏุงุฏ IPTables

ุฃูููุงุ ุงุถุจุท ุงูุณูุงุณุงุช ูุงูุฅุนุฏุงุฏุงุช ุงูุงูุชุฑุงุถูุฉ:

`sudo iptables -P INPUT DROP` ูููุน ูู ุงูุงุชุตุงูุงุช ุงููุงุฑุฏุฉ

`sudo iptables -P FORWARD DROP` ูููุน ูู ุนูููุงุช ุงูุชูุฌูู

`sudo iptables -P OUTPUT ACCEPT` ููุณูุงุญ ุจูู ุงูุงุชุตุงูุงุช ุงูุตุงุฏุฑุฉ

`sudo iptables -A INPUT -i lo -j ACCEPT` ููุณูุงุญ ุจุงููููุจ ุจุงู

`sudo iptables -A INPUT -m conntrack --ctstate ESTABLISHED,RELATED -j ACCEPT` ููุณูุงุญ ุจูู ุงูุงุชุตุงูุงุช ุงูููุฌูุฏุฉ

ุงูุญูู ูุงุฒู ุชุณูุญ ุจุงุชุตุงู SSH ูุฃู ูููุฐ ุซุงูู ุชุจู ุชูุชุญู:

`sudo iptables -A INPUT -p tcp --dport 22 -j ACCEPT` ููู SSH

`sudo iptables -A INPUT -p tcp --dport 80 -j ACCEPT` ูุซุงู ูู HTTP

`sudo iptables -A INPUT -p tcp --dport 25565 -j ACCEPT` ูุซุงู ูุณูุฑูุฑ Minecraft

ุจุนุฏูู ูุงุฒู ุชุฎูู ุงูููุงุนุฏ ุฏุงุฆูุฉุ ุนุดุงู ุชุธู ูุนุงูุฉ ุจุนุฏ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุณูุฑูุฑ. ุซุจุช ุญุฒูุฉ iptables-persistent ุจุงุณุชุฎุฏุงู `sudo apt install iptables-persistent`. ุจุนุฏูู ุทุจููุง ุจู `sudo netfilter-persistent save`. ูุฃุถููุง ููุฅููุงุน ุงูุชููุงุฆู ุจู `sudo systemctl enable netfilter-persistent`.

### ุฅุถุงูุฉ ุฅุนุงุฏุฉ ุชูุฌูู ุงูููุงูุฐ

ุนุดุงู ุชุนูุฏ ุชูุฌูู ูููุฐุ ุชูุฏุฑ ุชุณุชุฎุฏู ุงูุฃูุฑ ุงูุชุงูู:

ููููุงูุฐ TCP:

`sudo iptables -A INPUT -p tcp --dport PORT -j ACCEPT` ุงุณุชุจุฏู PORT ุจุงููููุฐ ุงููู ุชุจู ุชุนูุฏ ุชูุฌููู.

ูุซุงู: `sudo iptables -A INPUT -p tcp --dport 25565 -j ACCEPT` ูุณูุฑูุฑ Minecraft

ููููุงูุฐ UDP:

`sudo iptables -A INPUT -p udp --dport PORT -j ACCEPT` ุงุณุชุจุฏู PORT ุจุงููููุฐ ุงููู ุชุจู ุชุนูุฏ ุชูุฌููู.

ูุซุงู: `sudo iptables -A INPUT -p udp --dport 9987 -j ACCEPT` ูุณูุฑูุฑ TeamSpeak 3


### ุนุฑุถ ูุญุฐู ุฅุนุงุฏุฉ ุชูุฌูู ุงูููุงูุฐ

ุชูุฏุฑ ุชุนุฑุถ ูู ุงูููุงุนุฏ ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ: `sudo iptables -L --line-numbers`. ุฅุฐุง ุชุจู ุชุญุฐู ูุงุนุฏุฉุ ุงุณุชุฎุฏู `sudo iptables -D INPUT NUMBER` ูุน ุงุณุชุจุฏุงู `NUMBER` ุจุฑูู ุงููุงุนุฏุฉ ุงููู ุชุจู ุชุญุฐููุง.

## ุงูุฎูุงุตุฉ

ููุฏ ุซุจุช ุฌุฏุงุฑ ูุงุฑู ุจูุฌุงุญ ุนูู ุณูุฑูุฑ ููููุณ ุงูุฎุงุต ููู ูุฃูุดุฃุช ููุงุนุฏ ุงูููุงูุฐ ุงูุฎุงุตุฉ ููู. ุชูุฏุฑ ุชุณุชุฎุฏู ูุฐุง ุงูุฏููู ููุงู ูุฅุนุงุฏุฉ ุชูุฌูู ููุงูุฐ ุฃูุซุฑ.
ูู ุนูุฏู ุฃู ุฃุณุฆูุฉ ุฃู ุชุญุชุงุฌ ูุณุงุนุฏุฉุ ูุง ุชุชุฑุฏุฏ ุชุชูุงุตู ูุน ูุฑูู ุงูุฏุนู ุนูุฏูุงุ ูุชููุฑูู ูููููุง ููุณุงุนุฏุชู! ๐

<InlineVoucher />