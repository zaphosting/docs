---
id: dedicated-linux-ssh2fa
title: "ุณูุฑูุฑ ูุฎุตุต: ุงููุตุงุฏูุฉ ุงูุซูุงุฆูุฉ SSH"
description: "ุงูุชุดู ููู ุชุนุฒุฒ ุฃูุงู SSH ุจุงุณุชุฎุฏุงู Google Authenticator 2FA ูููุตูู ุงูุขูู ุฅูู ุงูุณูุฑูุฑ ูุญูุงูุฉ VPS ููููุณ ุงูุฎุงุต ุจู โ ุชุนููู ุงููุฒูุฏ ุงูุขู"
sidebar_label: 2FA (SSH)
services:
  - dedicated
---

import InlineVoucher from '@site/src/components/InlineVoucher';

## ููุฏูุฉ

ุฎุฏูุฉ ุงููุตุงุฏูุฉ ุงูุซูุงุฆูุฉ SSH ูู ุฌูุฌูุ ุงููุนุฑููุฉ ุจุงุณู **Google Authenticator SSH**ุ ุชุนุฒุฒ ุฃูุงู ุงููุตูู ุนุจุฑ SSH (Secure Shell) ุจุฅุถุงูุฉ ุทุจูุฉ ุซุงููุฉ ูู ุงูุชุญูู. ุฑุบู ุฃู SSH ูููุฑ ุจุงููุนู ุทุฑููุฉ ุขููุฉ ูุฅูุดุงุก ุงุชุตุงู ูุดูุฑ ูุน ุณูุฑูุฑ ุจุนูุฏุ ูุฅู ุฏูุฌ 2FA ูุฒูุฏ ูู ูุณุชูู ุงูุฃูุงู ุจุทูุจ ุฅุฏุฎุงู ุงููุณุชุฎุฏููู ููุณ ููุท ูููุฉ ุงููุฑูุฑุ ุจู ุฃูุถูุง ุฑูุฒ ุชุญูู ููุฑุฉ ูุงุญุฏุฉ ูุชู ุฅูุดุงุคู ุจูุงุณุทุฉ Google Authenticator. ูู ูุฐุง ุงูุฏูููุ ุณูุณุชุนุฑุถ ุนูููุฉ ุชุซุจูุช ูุชูููู ุฎุฏูุฉ **Google Authenticator SSH** ุนูู ุณูุฑูุฑ ููููุณ.

## ุงูุชุซุจูุช

ุฃููุงูุ ุชุญุชุงุฌ ูุชุซุจูุช Google Authenticator ุนูู VPS ููููุณ ุงูุฎุงุต ุจู. ููุฐ ุงูุฃูุฑ ุงูุชุงูู:

```
sudo apt install libpam-google-authenticator
```

ุณููุทูุจ ููู ูุชุงุจุฉ "Y" ูุชุซุจูุช ุงูุญุฒูุฉุ ุงูุชุจูุง ูุงุถุบุท Enter ุซู ุณูุชู ุชุซุจูุช Google Authenticator!

![](https://screensaver01.zap-hosting.com/index.php/s/mtqePXTr5KdoHkm/preview)

ุงุจุฏุฃ Google Authenticator ุจูุชุงุจุฉ 'google-authenticator'. ุชุฃูุฏ ูู ุฃู ุญุฌู ูุงูุฐุชู ูุงูู ูุนุฑุถ ุฑูุฒ QRุ ูุฅูุง ุงุถุบุท "CTRL+C" ูุฃุนุฏ ุชุดุบูู ุงูุฃูุฑ.

![](https://screensaver01.zap-hosting.com/index.php/s/agW9EHjs5Aimc43/preview)

ุณููุทูุจ ููู ูุฑุฉ ุฃุฎุฑู ุฅุฐุง ููุช ุชุฑูุฏ ุงููุชุงุจุนุฉุ ุงูุชุจ "Y" ููููุงููุฉ. ุณุชุญุตู ุงูุขู ุนูู ุฑูุฒ QR. ุงูุชุญ ุชุทุจูู Authenticator ุนูู ูุงุชูู ุงูุฐูู ูุงูุณุญ ุฑูุฒ QR. ูู ูุฐุง ุงููุซุงู ูุณุชุฎุฏู Google Authenticator:

![](https://screensaver01.zap-hosting.com/index.php/s/CmQERELXNotsgZB/preview)

ุชุฃูุฏ ูู ูุณุฎ ุฃููุงุฏ ุงููุณุฎ ุงูุงุญุชูุงุทูุ ูููู ุงุณุชุฎุฏุงู ูู ูููุง ูุฑุฉ ูุงุญุฏุฉ ูู ุญุงู ููุฏุช ุงูุชุทุจูู.

![](https://screensaver01.zap-hosting.com/index.php/s/pkKM2SANJbEejFD/preview)

ุงูุขู ูุนุฑุถ ุงูุชุทุจูู ุงูุฑููุฒ ุงูุชู ุณุชุญุชุงุฌูุง ูุชุณุฌูู ุงูุฏุฎูู ูุงุญููุง. ูู ูุฐู ุงูุญุงูุฉ ุชุจุฏู ููุฐุง:

![](https://screensaver01.zap-hosting.com/index.php/s/QnBxLbR8Grf2GL4/preview)

ุงูุฃุณุฆูุฉ ุงูุชุงููุฉ ุณุชุธูุฑ ุงูุขู:

1. ูู ุชุฑูุฏ ุญูุธ ุฅุนุฏุงุฏุงุช Google Authenticatorุ
2. ูู ุชุฑูุฏ ุชุณุฌูู ุฏุฎูู ูุงุญุฏ ููุท ูู 30 ุซุงููุฉุ
3. ูู ูุฌุจ ุฒูุงุฏุฉ ุงูููุช ุงูุฐู ูููู ููู ุงูุฑูุฒ ุตุงูุญูุงุ
4. ูู ูุฌุจ ุงูุณูุงุญ ุจุซูุงุซ ูุญุงููุงุช ุชุณุฌูู ุฏุฎูู ููุท ูู 30 ุซุงููุฉุ (ุญูุงูุฉ ุถุฏ ูุฌูุงุช ุงูููุฉ ุงูุบุงุดูุฉ)

ูุฃุณุจุงุจ ุฃูููุฉ ููุตุญ ุจุงูููุงููุฉ ุนูู ุฌููุน ุงูุฃุณุฆูุฉ ุจู ูุนู.

![](https://screensaver01.zap-hosting.com/index.php/s/A9RmFA6nWgKzSF6/preview)

## ุงูุชูููู

ุงูุขู ุนูููุง ุชุนุฏูู Google Authenticator ููุชู ุงุณุชุฎุฏุงูู ูุนูููุง. ูุฐุง ูุชุทูุจ ุชุนุฏูููู.

### /etc/ssh/sshd_config

ูุนูู ุงููุญุฏุงุช ุงููุทููุจุฉ ูู ููู `/etc/ssh/sshd_config`. ุงูุชุญ ุงูููู ุจูุชุงุจุฉ:

```
sudo nano /etc/ssh/sshd_config
```

ุฃูุช ุงูุขู ูู ูุญุฑุฑ ูุตูุต. ููููู ุงูุชููู ุจุงุณุชุฎุฏุงู ุงูุฃุณููุ ุญุฐู ุงููุต ูุฅุฏุฎุงูู ุจุญุฑูุฉุ ุซู ุงุถุบุท 'CTRL + X' ุซู 'Y' ูุฃุฎูุฑูุง 'Enter' ูุญูุธ ุงูููู.

ุชุฃูุฏ ูู ุฃู ุงูุณุทุฑูู 'UsePAM' ู 'ChallengeResponseAuthentication' ูุถุจูุทูู ุนูู 'yes'ุ ูุซู ูุฐุง:

![](https://screensaver01.zap-hosting.com/index.php/s/f5a9G5Wif9HcwQq/preview)

![](https://screensaver01.zap-hosting.com/index.php/s/qdf4JCqLgZ85nia/preview)

ุงุญูุธ ุงูููู ุจู 'CTRL + X' ุซู 'Y' ูุฃุฎูุฑูุง 'Enter'. ุฃุนุฏ ุชุดุบูู SSH ุจุงูุฃูุฑ ุงูุชุงูู:

```
sudo systemctl restart ssh
```

### /etc/pam.d/sshd

ุงูุขู ูุถูู Google Authenticator ุฅูู ุชุณุฌูู ุงูุฏุฎูู ูู ููู `/etc/pam.d/sshd`. ุงูุชุญ ุงูููู ุจูุชุงุจุฉ:

```
sudo nano /etc/pam.d/sshd
```

ุงูุฎุทูุฉ ุงูุฃุฎูุฑุฉ ูู ุงููุฒูู ุฅูู ููุงูุฉ ุงูููู ูุฅุถุงูุฉ ุงูุณุทุฑ ุงูุชุงูู:

```
auth required pam_google_authenticator.so
```

![](https://screensaver01.zap-hosting.com/index.php/s/Mgw8tJJtTbkg7T3/preview)

ุงุญูุธ ุงูููู ุจู 'CTRL + X' ุซู 'Y' ูุฃุฎูุฑูุง 'Enter'.

## ุงุฎุชุจุงุฑ ุงููุตูู

ุญุงู ุงูููุช ูุชุณุฌูู ุงูุฏุฎูู ูุฃูู ูุฑุฉ ุจุงุณุชุฎุฏุงู 2FA. ุจุนุฏ ุงุชุจุงุน ุงูุฎุทูุงุช ุฃุนูุงูุ ูู ูุง ุนููู ูุนูู ูู ุฅุนุงุฏุฉ ุชุดุบูู ุงุชุตุงู SSH ุงูุฎุงุต ุจู.

![](https://screensaver01.zap-hosting.com/index.php/s/RwaymAzjGjMgbYL/preview)

ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ ูุงููุนุชุงุฏ. ุณููุทูุจ ููู ุฅุฏุฎุงู ุฑูุฒุ ููุท ุฃุฏุฎู ุฑูุฒ 2FA ุงูุญุงูู.

![](https://screensaver01.zap-hosting.com/index.php/s/w7BFMMTMdcwXj2x/preview)

ุงูุขู ุฃูุช ูุณุฌู ุฏุฎูู!

## ุงูุฎูุงุตุฉ

ูุจุฑููุ ููุฏ ููุช ุจุชูููู 2FA ุจูุฌุงุญ ููุตูู SSH ุงูุฎุงุต ุจู. ูุฃู ุฃุณุฆูุฉ ุฃู ูุณุงุนุฏุฉ ุฅุถุงููุฉุ ูุง ุชุชุฑุฏุฏ ูู ุงูุชูุงุตู ูุน ูุฑูู ุงูุฏุนู ุงูุฎุงุต ุจูุงุ ุงููุชููุฑ ูููููุง ููุณุงุนุฏุชู! ๐