---
id: vserver-linux-proxy
title: "VPS: ุฅุนุฏุงุฏ ุจุฑููุณู ุนูุณู ุจุงุณุชุฎุฏุงู nginx ุนูู ููููุณ"
description: "ุงูุชุดู ููููุฉ ุฅุนุฏุงุฏ ุจุฑููุณู ุนูุณู ุขูู ููุนูุงู ูููุงูุน ุงูููุจ ูุณูุฑูุฑุงุช ุงูุฃูุนุงุจ ูุชุนุฒูุฒ ุงููุตูู ูุงูุญูุงูุฉ โ ุชุนููู ุงููุฒูุฏ ุงูุขู"
sidebar_label: ุจุฑููุณู ุนูุณู
services:
  - vserver
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import InlineVoucher from '@site/src/components/InlineVoucher';

## ููุฏูุฉ

ุณูุฑูุฑ ุงูุจุฑููุณู ุงูุนูุณู ูู ุณูุฑูุฑ ูุนูู ููุณูุท ุจูู ุงููุณุชุฎุฏููู ุงูููุงุฆููู ูุณูุฑูุฑ ุขุฎุฑ. ููุงูุน ุงูููุจ ูุณูุฑูุฑุงุช ุงูุฃูุนุงุจ ูู ุฃุดูุฑ ุงูุฃุณุจุงุจ ูุงุณุชุฎุฏุงู ุงูุจุฑููุณู ุงูุนูุณูุ ูููู ูููุง ูุฒุงูุง ูุฎุชููุฉ ูุซู ุงูุฃูุงูุ ุณูููุฉ ุงููุตููุ ูุงูุญูุงูุฉ.

ูู ูุฐุง ุงูุฏูููุ ุณูุณุชุนุฑุถ ููููุฉ ุฅุนุฏุงุฏ ุจุฑููุณู ุนูุณู ุนุงู ูููุงูุน ุงูููุจ ููุฐูู ูุงุญุฏ ูุฎุตุต ูุณูุฑูุฑุงุช ุงูุฃูุนุงุจ.

<InlineVoucher />

## ุงูุชุญุถูุฑ

ูุฅุนุฏุงุฏ ุจุฑููุณู ุนูุณูุ ุณุชุญุชุงุฌ ุฅูู **ุณูุฑูุฑ ููููุณ** ูุณุชุถูู ุณูุฑูุฑ ุงูุจุฑููุณู ุงูุฎุงุต ุจู. ูู ูุฐุง ุงููุซุงูุ ุณูุณุชุฎุฏู ุฃูุจููุชู ููุธุงู ููููุณุ ููู ุฎุทูุงุช ุงูุชุซุจูุช ุณุชููู ูุดุงุจูุฉ ููุนุธู ุชูุฒูุนุงุช ููููุณ.

:::tip ููุงุตูุงุช VPS ุงูููุตู ุจูุง
ูุจุฑููุณู ุนูุณู ูุฎุตุต ูุณูุฑูุฑุงุช ุงูุฃูุนุงุจุ ููุตุญ ุจุดุฏุฉ ุจุดุฑุงุก ุณุฑุนุงุช ุดุจูุฉ ุฃุนููุ ุฎุตูุตูุง ุฅุฐุง ูุงู ุณูุฑูุฑู ูุญุชูู ุนูู ูุงุนุจูู ูุซูุฑูู. ูุฃู VPS ุงูุฎุงุต ุจู ุณูููู ุจุจุซ TCP/UDP ุงูุฎุงู ูุจุงุดุฑุฉ ุจูู ุงูุนููู (ุงููุงุนุจ) ูุณูุฑูุฑ ุงููุนุจุฉ. ุฃูุง ูุจุฑููุณู ููุจ ุนุงุฏูุ ุณูุฑูุฑ ุจููุงุตูุงุช ุฃุณุงุณูุฉ ูุน ุชุฑููุงุช ุจุณูุทุฉ ูููู. :)
:::

ููุตุญ ุจุฅุนุฏุงุฏ ุงูุจุฑููุณู ุจุงุณุชุฎุฏุงู **ูุทุงู** ุชูููู. ููู ูุทุงู ูุฑุนู ุชุฎุทุท ูุงุณุชุฎุฏุงููุ ูุฌุจ ุฅูุดุงุก ุณุฌู `A` ูู DNS (ูุซูุงู `zapdocs.example.com`) ูุดูุฑ ุฅูู ุนููุงู IP ุงูุฎุงุต ุจู __VPS ููููุณ__ ุงูุฎุงุต ุจู. ูุฐุง ูู ุงูุนููุงู ุงูุฐู ุณูุณุชุฎุฏูู ุงููุณุชุฎุฏููู ูููุตูู ุฅูู ูููุนู ุฃู ุณูุฑูุฑ ุงูุฃูุนุงุจ.

### ุงููุตูู ุฅูู VPS

ุจุนุฏ ุชุฌููุฒ VPS ููููุณุ ุนููู ุงูุงุชุตุงู ุจู. ุงุณุชุฎุฏู ุฏููููุง [ุงููุตูู ุงูุฃููู ุนุจุฑ SSH](vserver-linux-ssh.md) ูุชุชุนูู ููููุฉ ุงูููุงู ุจุฐูู.

### ุชุซุจูุช Nginx

ุณุชุณุชุฎุฏู Nginx ูุงุณุชุถุงูุฉ ุณูุฑูุฑ ุงูุจุฑููุณู ุงูุนูุณู ูุฃูู ุณูุฑูุฑ ููุจ ููุชูุญ ุงููุตุฏุฑ ุนุงูู ุงูุฃุฏุงุก ูุดุงุฆุน.

ุจุนุฏ ุงููุตูู ุฅูู VPSุ ุงุณุชุฎุฏู ุงูุฃูุฑ ุงูุชุงูู ูุชุซุจูุช Nginx.

```
sudo apt install nginx
```

ุจุนุฏ ุงูุชุซุจูุชุ ุนููู ุชุนุฏูู ุฌุฏุงุฑ ุงูุญูุงูุฉ ูุถูุงู ูุตูู ุงูุฎุฏูุฉ ูู ุงูุฅูุชุฑูุช. ูู ูุฐุง ุงูุฏูููุ ุณูุณุชุฎุฏู **ุฌุฏุงุฑ ุงูุญูุงูุฉ UFW** ูุฃู Nginx ูุณุฌู ููุณู ูุชุทุจููุ ููุง ูุณูู ุชุนุฏูู ุงูุฅุนุฏุงุฏุงุช. ููููู ูุนุฑูุฉ ุงููุฒูุฏ ุนู ุฌุฏุงุฑ ุงูุญูุงูุฉ UFW ูู ุฎูุงู ุฏููููุง [ูุตุงุฆุญ ุฃูุงู ููููุณ](vserver-linux-security-tips.md).

:::note
ุฅุฐุง ููุช ุชุณุชุฎุฏู ุฌุฏุฑุงู ุญูุงูุฉ ุฃุฎุฑู (ูุซู Iptables)ุ ุชุฃูุฏ ูู ููุญ ุงููุตูู ุงูููุงุณุจ ูู Nginxุ ุฎุตูุตูุง ุนูู ุงููููุฐูู 80 ู443 ุญูุซ ูุนูู nginx.
:::

ููููู ุงูุชุญูู ูู ูููุงุช ุชุนุฑูู Nginx ุนุจุฑ ุงูุฃูุฑ `sudo ufw app list`. ูู ูุฐู ุงูุญุงูุฉุ ูุฑูุฏ ุงุฎุชูุงุฑ ุฎูุงุฑ **Nginx Full**ุ ุงูุฐู ูุชูุญ ุงููุตูู ูู HTTP ููุงุฎุชุจุงุฑ ูHTTPS ููุงุณุชุฎุฏุงู ุงููุนูู.

```
sudo ufw allow 'Nginx Full'
```

ุจุนุฏ ุฅุนุฏุงุฏ Nginxุ ุญุงูู ุงููุตูู ุฅูู ุงูุตูุญุฉ ุนุจุฑ ุงููุชุตูุญ ููุชุฃูุฏ ูู ุฃููุง ุชุนูู ููุง ูู ูุชููุน. ุฅุฐุง ุธูุฑุช ุตูุญุฉ ุงูุงุฎุชุจุงุฑ ุจุดูู ุตุญูุญุ ููููู ูุชุงุจุนุฉ ุงูุฏููู.

```
http://[your_serverip]
```

![](https://screensaver01.zap-hosting.com/index.php/s/JaBgE4Cn73L5Xe8/preview)

## ูููุงูุน ุงูููุจ

ุงูุจุฑููุณู ุงูุนูุณู ูููุงูุน ุงูููุจ ูููุฏ ูุฃุณุจุงุจ ูุซูุฑุฉุ ูููุง ุฅุนุงุฏุฉ ุงูุชูุฌูู ุฅูู ููุงุฑุฏ ุฏุงุฎููุฉ ูุซู ูุซูู vaultwarden (ุจุฏูู ุงูุญุงุฌุฉ ูุฐูุฑ ุงููููุฐ ูู ุงูุฑุงุจุท)ุ ุฃู ุชูุฌูู ุงููุณุชุฎุฏู ููุญุชูู ุฎุงุฑุฌูุ ููู ูููุฏ ูุชูุฒูุน ุงูุญูู ูุงูุญูุงูุฉ.

ุฃุญุฏ ุฃูุจุฑ ุงูููุงุฆุฏ ูู ุฃู ุณูุฑูุฑู ููููู ุงูุชุนุงูู ูุน ุทูุจุงุช ูู ุนุฏุฉ ูุตุงุฏุฑ/ูุทุงูุงุช ุญุณุจ ุงูุญุงุฌุฉุ ุจุฏูุงู ูู ุณูุฑูุฑ ููุจ ูุงุญุฏ ูุนูู ุนูู ุงููููุฐูู 80/443 ููุท.

### ุฅุนุฏุงุฏ Nginx

ุงุจุฏุฃ ุจุฅูุดุงุก ููู ุฏุงุฎู ูุฌูุฏ Nginx ูููุทุงู ุงูุฐู ุงุฎุชุฑุชู ุณุงุจููุงุ ูุงูุฐู ุนุงุฏุฉู ูููู ูุทุงููุง ูุฑุนููุง ูุซู `zapdocs.example.com` ููุง ูู ูุซุงููุง.

:::important
ุชุฃูุฏ ูู ุฅุนุฏุงุฏ ุณุฌู `A` ูุดูุฑ ุฅูู ุนููุงู IP ุงูุฎุงุต ุจุณูุฑูุฑ ุงูุจุฑููุณู ูุจู ุงููุชุงุจุนุฉ. ุจุฏูู ูุฐุงุ ุงููุทุงู ูุฃู ุฎุทูุงุช ูุงุญูุฉ ูู ุชุนูู ููุง ูู ูุชููุน.
:::

ุงุฏุฎู ุฅูู ูุฌูุฏ ุจูููุงุช ุงูุณูุฑูุฑ ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ ุงูุชุงูู. ููุง ุณุชุฎุฒู ูู ุฅุนุฏุงุฏุงุช ุงูุจุฑููุณู.

```
cd /etc/nginx/sites-available/
```

ุงูุขู ุงุณุชุฎุฏู ุงูุฃูุฑ ุงูุชุงูู ูุฅูุดุงุก ููู ุฅุนุฏุงุฏ ุฌุฏูุฏ. ููุตุญ ุจุงุณุชุฎุฏุงู ุงุณู ุงููุทุงู ูุงุณู ููููู ูุชุณููู ุงูุชุนุฑู ุนููู (ูุซูุงู zapdocs.example.com). ุงุณุชุจุฏู `[your_filename]` ุจุงูุงุณู ุงูุฐู ุชุฑูุฏู.

```
sudo nano [your_filename]
```

ุณููุชุญ ูุญุฑุฑ nanoุ ุญูุซ ููููู ุฅุฏุฎุงู ุงููุญุชูู. ุงูุณุฎ ุงููุงูุจ ุงูุชุงูู ุฏุงุฎู ุงููุญุฑุฑ. ุนุฏูู `[your_domain]` ุฅูู ุงููุทุงู ุงูุฐู ุชุฑูุฏ ุงูุจุฑููุณู ููุ ู`[your_target_server]` ุฅูู ุงูุณูุฑูุฑ ุงููุฏู ุงูุฐู ุชุฑูุฏ ุงููุตูู ุฅููู.

```
upstream targetServer {
    # ุฃุถู ุงูุณูุฑูุฑ ุงููุฏู ุงูุฐู ุชุฑูุฏ ุงููุตูู ุฅููู. ูููู ุฃู ูููู:
    # ุฅุนุงุฏุฉ ุชูุฌูู ุฏุงุฎูู "localhost" (ูุซูุงู 127.0.0.1:9090)
    # ุณูุฑูุฑ ุฎุงุฑุฌู (ูุซูุงู 103.146.43.52:9000)
    server [your_target_server];
}

server {
    listen 80;
    listen [::]:80;

    # ุงููุทุงู ุงูุฐู ุณูุชู ุงูุชุนุงูู ูุนู (ูุซูุงู zapdocs.example.com)
    server_name [your_domain];

    location / {
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $remote_addr;
        proxy_pass_request_headers on;
        proxy_http_version 1.1;
        proxy_pass http://targetServer;
    }
}
```

ุจุนุฏ ุชุนุฏูู ุงูููู ุจูุง ููุงุณุจ ุฅุนุฏุงุฏูุ ุงุญูุธ ุงูููู ูุงุฎุฑุฌ ูู nano ุจุงุณุชุฎุฏุงู `CTRL + X`ุ ุซู `Y` ููุชุฃููุฏ ูุฃุฎูุฑูุง `ENTER`.

ุงูุขู ุนููู ุชูุนูู ููู ุจููู ุงูุณูุฑูุฑ ุจุฅูุดุงุก ุฑุงุจุท ุฑูุฒู ุฅูู ุงููุฌูุฏ ุงููุดุท.

```
sudo ln -s /etc/nginx/sites-available/[your_filename] /etc/nginx/sites-enabled/[your_filename]
```

ููุชุฃูุฏ ูู ุตุญุฉ ุงูุฅุนุฏุงุฏุงุชุ ุฎุตูุตูุง ูู ูุงุญูุฉ ุงูุตูุงุบุฉุ ุงุณุชุฎุฏู ุงูุฃูุฑ `sudo nginx -t` ููุชุญูู ูู ูุฌูุฏ ุฃุฎุทุงุก. ุฅุฐุง ูุงูุช ุงููุชูุฌุฉ ูุงุฌุญุฉุ ุงูุฎุทูุฉ ุงูุฃุฎูุฑุฉ ูู ุฅุนุงุฏุฉ ุชุดุบูู Nginx ูุชุทุจูู ุงูุชุบููุฑุงุช.

```
systemctl reload nginx.service
```

ุจุนุฏ ุฅุนุงุฏุฉ ุงูุชุดุบููุ ุฌุฑุจ ุงููุตูู ุฅูู ุงููุทุงู ุงูุฐู ุงุณุชุฎุฏูุชู ููุจุฑููุณู ุงูุนูุณู ุนุจุฑ ุงููุชุตูุญ. ุฅุฐุง ูุฌุญ ุงูุฃูุฑุ ูุฌุจ ุฃู ุชุธูุฑ ุงูุตูุญุฉ ุงููุญุชูู ุงูุฐู ุญุฏุฏุชู ูู ูุชุบูุฑ `targetServer`. ุฅุฐุง ูุงุฌูุช ูุดุงููุ ููุตุญ ุจูุญุต ุงูุณุฌูุงุช ุจุงุณุชุฎุฏุงู `journalctl -f -u nginx.service` ูุชุญุฏูุฏ ุงูุฃุฎุทุงุก ุงููุญุชููุฉ.

## ูุณูุฑูุฑุงุช ุงูุฃูุนุงุจ

ุงูุจุฑููุณู ุงูุนูุณู ูุณูุฑูุฑุงุช ุงูุฃูุนุงุจ ูููุฏ ูุฃุณุจุงุจ ูุซูุฑุฉุ ูููุง ุชูููุฑ ุทุจูุฉ ุฃูุงู ูููุซูููุฉ ุฅุถุงููุฉ ุนุจุฑ ุชุญุณูู ุงูุชุฎููู ูุชูููุฏ ุงููุตูู ุฅูู ุงููุถูู ุงูุฑุฆูุณู.

:::tip
ูุนุธู ุณูุฑูุฑุงุช ุงูุฃูุนุงุจ ุงููุฎุตุตุฉ ุชุนูู ุจุดูู ููุชุงุฒ ูุน ุจุฑููุณู ููุทุฉ ููุงูุฉ TCP/UDP ุงูุฎุงู ุงูุชู ุณุชููู ุจุฅุนุฏุงุฏูุง. ููู ุจุนุถ ุงูุฃูุนุงุจ ุงูููููุฉ ูุซู BeamMP ูุฏ ูุง ุชุนูู ุฌูุฏูุง ูุน VPNs ูุงูุจุฑููุณูุงุชุ ูุฐุง ูุฌุจ ุงุฎุชุจุงุฑูุง ููู ูุนุจุฉ ุนูู ุญุฏุฉ.
:::

### ุฅุนุฏุงุฏ Nginx

ูุฐุง ูุชุทูุจ ูุฌูุฏ **ูุญุฏุฉ Nginx Stream**ุ ูุงูุชู ููุณุช ุฌุฒุกูุง ูู ุจูุงุก Nginx ุงูุงูุชุฑุงุถู.

#### ุชุซุจูุช ูุญุฏุฉ Nginx stream

<Tabs>

<TabItem value="ubuntu-debian" label="ุฃูุจููุชู ูุฏูุจูุงู" default>
```bash
sudo apt install -y libnginx-mod-stream
```
</TabItem>

<TabItem value="centos-fedora" label="ุณููุชูุณ ูููุฏูุฑุง">
```bash
sudo dnf -y install nginx-mod-stream 
```
</TabItem>

</Tabs>

#### ุฅุนุฏุงุฏ Nginx stream

ุณุชุถูู ุจููู `stream` ุฌุฏูุฏ ูู ููู `nginx.conf` ุงูุฑุฆูุณู ุญูุซ ุณุชุญุฏุฏ ุงูุณูุฑูุฑ ุงููุฏู ูุงููููุฐ ุงูุฐู ูุฌุจ ุงููุตูู ุฅููู ุนุจุฑ ุงูุจุฑููุณู.

ุงูุชุญ ุงูููู ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ ุงูุชุงูู.

```
sudo nano /etc/nginx/nginx.conf
```

ุงูุณุฎ ุงููุงูุจ ุงูุชุงูู ุฏุงุฎู ุงูููู ูุฅุถุงูุฉ ุจููู `stream` ุฌุฏูุฏ. ุงุณุชุจุฏู `[your_target_server]` ุจุงูุณูุฑูุฑ ุงูุฐู ุชุฑูุฏ ุงูุจุซ ุฅููู ูุน ุงููููุฐ ุงูููุงุณุจ (ูุซูุงู `:30120` ูู FiveM). ูุงุณุชุจุฏู `[your_port_listener]` ุจุงููููุฐ ุงูุฐู ุชุฑูุฏ ุฃู ูุตู ุงููุงุณ ูู ุฎูุงูู ุฅูู ุงููุญุชูู ุนุจุฑ ุงูุจุฑููุณู.

```
stream {
    upstream targetServer {
        # ุฃุถู ุงูุณูุฑูุฑ ุงููุฏู ุงูุฐู ุชุฑูุฏ ุงููุตูู ุฅููู (ูุซูุงู 103.146.43.52:30120)
        server [your_target_server];
    }

    server {
        # ูููุฐ ุงูุงุณุชูุงุน ุงูุฐู ููุจู ููุฌุณุฑ ุงูุงุชุตุงูุงุช (ูุซูุงู 30120)
        listen [your_port_listener];
        proxy_pass targetServer;
    }
}
```

ุจุจุณุงุทุฉุ Nginx ุณูุณุชูุน ุนูู ุงููููุฐ ุงููุญุฏุฏ ููุงุชุตุงูุงุช ุงููุงุฑุฏุฉ ููุจุซ ูู ุดูุก ุฅูู ุงูุณูุฑูุฑ ุงููุฏู ุงูุฐู ุญุฏุฏุชู (ูู ุณูุฑูุฑ ุงูุจุฑููุณู ุฅูู ุณูุฑูุฑ ุงููุนุจุฉ ุงูุญูููู).

ุจุนุฏ ุชุนุฏูู ุงูููู ุจูุง ููุงุณุจ ุฅุนุฏุงุฏูุ ุงุญูุธ ุงูููู ูุงุฎุฑุฌ ูู nano ุจุงุณุชุฎุฏุงู `CTRL + X`ุ ุซู `Y` ููุชุฃููุฏ ูุฃุฎูุฑูุง `ENTER`.

ููุชุฃูุฏ ูู ุตุญุฉ ุงูุฅุนุฏุงุฏุงุชุ ุฎุตูุตูุง ูู ูุงุญูุฉ ุงูุตูุงุบุฉุ ุงุณุชุฎุฏู ุงูุฃูุฑ `sudo nginx -t` ููุชุญูู ูู ูุฌูุฏ ุฃุฎุทุงุก. ุฅุฐุง ูุงูุช ุงููุชูุฌุฉ ูุงุฌุญุฉุ ุงูุฎุทูุฉ ุงูุฃุฎูุฑุฉ ูู ุฅุนุงุฏุฉ ุชุดุบูู Nginx ูุชุทุจูู ุงูุชุบููุฑุงุช.

```
systemctl reload nginx.service
```

ุจุนุฏ ุฅุนุงุฏุฉ ุงูุชุดุบููุ ุญุงูู ุงูุงุชุตุงู ุจุณูุฑูุฑ ุงููุนุจุฉ ุนุจุฑ ูุทุงู ุงูุจุฑููุณู. ุฅุฐุง ูุฌุญ ุงูุฃูุฑุ ูุฌุจ ุฃู ุชุชููู ูู ุงูุงุชุตุงู ุจุณูุฑูุฑ ุงููุนุจุฉ ุงูุฐู ุญุฏุฏุชู ูู ูุชุบูุฑ `targetServer`. ุฅุฐุง ูุงุฌูุช ูุดุงููุ ููุตุญ ุจูุญุต ุงูุณุฌูุงุช ุจุงุณุชุฎุฏุงู `journalctl -f -u nginx.service` ูุชุญุฏูุฏ ุงูุฃุฎุทุงุก ุงููุญุชููุฉ.

## ุดูุงุฏุฉ SSL

ุจุนุฏ ุฅุนุฏุงุฏ ุงูุจุฑููุณู ุงูุนูุณูุ ููุตุญ ุจุดุฏุฉ ุจุฅุถุงูุฉ ุดูุงุฏุฉ SSL ูููุทุงูุงุช ุงููุณุชุฎุฏูุฉ ูุถูุงู ููู ุงูุจูุงูุงุช ุจุฃูุงู ุนุจุฑ HTTPS. ุชุญูู ูู ุฏููููุง [ุชุซุจูุช Certbot](dedicated-linux-certbot.md) ุงูุฐู ูุบุทู ูุงูู ุนูููุฉ ุทูุจ ูุชุฌุฏูุฏ ุดูุงุฏุงุช SSL ุชููุงุฆููุง ููุทุงูุงุชู.

## ุงูุฎุงุชูุฉ

ูุจุฑููุ ููุฏ ุฃุนุฏุฏุช ุจูุฌุงุญ ุจุฑููุณู ุนูุณู ููููุน ููุจ ุฃู ุณูุฑูุฑ ุฃูุนุงุจ (ุฃู ููุงููุง :))ุ ููุง ูููุญู ุชุญุณููุงุช ูู ุงูุฃูุงูุ ุงูููุซูููุฉุ ูุงูุฃุฏุงุก. ูุฃู ุฃุณุฆูุฉ ุฃู ูุณุงุนุฏุฉ ุฅุถุงููุฉุ ูุง ุชุชุฑุฏุฏ ูู ุงูุชูุงุตู ูุน ูุฑูู ุงูุฏุนู ูุฏููุงุ ุงููุชููุฑ ูููููุง ููุณุงุนุฏุชู! ๐

<InlineVoucher />