---
id: hytale-profiler-spark
title: "Hytale: Spark Profiler – パフォーマンスボトルネックを特定しよう"
description: "Sparkモッドを使ってHytaleサーバーのパフォーマンス問題を診断し、ラグの原因を特定 → 今すぐ詳しくチェック"
sidebar_label: Spark Profiler
services:
- gameserver-hytale
---

import InlineVoucher from '@site/src/components/InlineVoucher';
import Button from '@site/src/components/Button';

## はじめに

TPS（ティック毎秒）の低下、ラグの急増、カクつきなどのパフォーマンス問題は、Hytaleゲームサーバーのプレイヤー体験に大きな影響を与えます。詳細な診断なしにこれらの問題の原因を手動で特定するのはかなり難しいです。

![img](https://screensaver01.zap-hosting.com/index.php/s/E4o3SDSRr3RpBBA/preview)

**Spark** プロファイラーモッドは、サーバーオーナーに強力なパフォーマンス解析ツールを提供します。インストール後、SparkはCPU使用率、ティック時間、サーバーの健康指標などのデータを収集し、パフォーマンス問題がどこで発生しているかを正確に特定できる詳細なレポートを生成します。特に大規模または多忙なHytaleワールドでのトラブルシューティングや最適化に欠かせないツールです。

<InlineVoucher />

## Sparkの機能

Sparkは以下のプロファイリング機能を提供します：

- **パフォーマンスプロファイリング** – サーバーの動作を記録し、遅いティックや高いCPU使用率を特定
- **サーバー健康指標** – ティック時間、TPS、CPUとメモリ使用率を含む
- **インタラクティブなレポート** – ブラウザで閲覧可能なウェブベースのレポートを生成
- **軽量で使いやすい** – 有用なデータを収集しつつ、サーバーへの負荷は最小限に設計



## Sparkのインストール

SparkはCurseForge経由で配布されているモッドです。モッドは当社のMods InstallerまたはFTP経由でインストール可能です。詳しくは[モッドのインストール](http://localhost:3000/guides/docs/hytale-mods)ガイドをご覧ください。インストール後はHytaleゲームサーバーを再起動してください。

<Button label="Sparkをダウンロード" link="https://www.curseforge.com/hytale/mods/spark" block />



## プロファイラーの起動

Sparkをインストールしてサーバーを起動したら、ゲームサーバーのダッシュボードの**ライブコンソール**タブを開くか、必要な権限があればゲーム内チャットから操作します。パフォーマンスデータの収集を開始するには、以下のコマンドを実行してください：

```
/spark profiler start
```

![](https://screensaver01.zap-hosting.com/index.php/s/4fwJk5wtkGK7Yqy/download)

開始すると、Sparkはティック時間、CPU使用率、スレッド実行などの詳細なサーバー活動を記録し始めます。解析したい問題が発生している間（例えばピーク時のプレイヤー活動中やラグが起きている時）にプロファイラーを動かすのが効果的です。通常、30秒から60秒以上の計測で十分なデータが得られます。

プロファイラー実行中でも、以下のコマンドでライブ結果を確認できます：

```
/spark profiler open
```

このコマンドはコンソールやチャットにウェブリンクを生成し、ブラウザで開くとティックグラフや負荷分布などのライブビューが表示されます。

十分なデータが集まったら、以下のコマンドでプロファイラーを停止します：

```
/spark profiler stop
```

停止後、Sparkは最終レポートのリンクを生成します。このレポートにはプロファイリングセッションの全データが含まれており、ブラウザで開いたり共有して詳細解析が可能です。

現在のプロファイリングセッションを破棄してやり直したい場合は、以下のコマンドでリセットできます：

```
/spark profiler cancel
/spark profiler start
```

これで既存データがクリアされ、新しい計測がすぐに始まります。




## プロファイラー結果の解析
Sparkプロファイラーレポートは、サーバーリソースの使用状況を詳細に分解して表示します。特に重要なのがティックタイムラインで、個々のティックが完了するまでの時間を示します。長時間かかるティックが続く場合は、重い負荷がかかっていることが多く、TPSやゲームプレイの滑らかさに直接影響します。

![img](https://screensaver01.zap-hosting.com/index.php/s/zToJEdffQ75EgXH/preview)

プロファイラーはまた、**ホットスポット**を強調表示し、最もリソースを消費している関数やシステムを示します。これにより、パフォーマンス問題が特定のモッド、プレイヤーの行動、ワールドの仕組み、またはサーバー設定に起因しているかを判断しやすくなります。

Sparkのレポートは共有可能な形式で作成されているため、サポートチームや他の管理者に助けを求める際に、プロファイラーのリンクを提供すれば直接データを確認して的確なアドバイスをもらえます。

## まとめ

Hytale用のSparkプロファイラーモッドは、パフォーマンス問題の診断やサーバーラグの根本原因特定に役立つ超便利なツールです。質問やサポートが必要な場合は、毎日対応している当社のサポートチームまでお気軽にお問い合わせくださいね！🙂

<InlineVoucher />