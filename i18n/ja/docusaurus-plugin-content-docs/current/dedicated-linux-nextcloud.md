---
id: dedicated-linux-nextcloud
title: "å°‚ç”¨ã‚µãƒ¼ãƒãƒ¼ï¼šNextcloudã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"
description: "Linuxã‚·ã‚¹ãƒ†ãƒ ã§Nextcloudã‚µãƒ¼ãƒãƒ¼ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨å®‰å®šæ€§ã‚’æœ€å¤§åŒ–ã™ã‚‹æ–¹æ³•ã‚’ãƒã‚§ãƒƒã‚¯ â†’ ä»Šã™ãè©³ã—ãè¦‹ã‚‹"
sidebar_label: Nextcloudã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
services:
  - dedicated
---

import InlineVoucher from '@site/src/components/InlineVoucher';

## ã¯ã˜ã‚ã«

Nextcloudã¯ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã®ã‚¯ãƒ©ã‚¦ãƒ‰ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã§ã€Owncloudã®ãƒ•ã‚©ãƒ¼ã‚¯ã§ã™ã€‚2016å¹´ã«å…ƒOwncloudå‰µè¨­è€…ã®Frank Kalitschekã«ã‚ˆã£ã¦è¨­ç«‹ã•ã‚Œã¾ã—ãŸã€‚

![](https://screensaver01.zap-hosting.com/index.php/s/n2PbXo94RGNdPzt/preview)

Nextcloudã‚µãƒ¼ãƒãƒ¼ã‚’ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹éš›ã«ã€æœ€é©ãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€å®‰å®šæ€§ã€æ©Ÿèƒ½æ€§ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã«ä»¥ä¸‹ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’æ¨å¥¨ã—ã¾ã™ã€‚Nextcloudã‚µãƒ¼ãƒãƒ¼ã¯Windowsã‚„MacOSã¨ã¯äº’æ›æ€§ãŒã‚ã‚Šã¾ã›ã‚“ã€‚å°‘ãªãã¨ã‚‚è¿½åŠ ã®ä»®æƒ³åŒ–ã‚„é¡ä¼¼ã®å›é¿ç­–ãªã—ã§ã¯å‹•ä½œã—ã¾ã›ã‚“ã€‚<br/>

<InlineVoucher />

## æº–å‚™

ä»¥ä¸‹ã®è¦ä»¶ã¯é–‹ç™ºè€…ã®æ¨å¥¨ã¨å½“ç¤¾ã®çµŒé¨“ã«åŸºã¥ã„ã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚‰ã®å‰ææ¡ä»¶ã‚’æº€ãŸã•ãªã„å ´åˆã€å•é¡ŒãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

#### ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | æœ€ä½è¦ä»¶               | æ¨å¥¨                      |
| -------------- | ---------------------- | ------------------------- |
| CPU            | 2x 1 GHz               | 4x 2GHzä»¥ä¸Š               |
| RAM            | 512 MB                 | 4GBä»¥ä¸Š                   |
| ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸     | 10 GB                  | 50GBä»¥ä¸Š                  |
| å¸¯åŸŸå¹…         | 100 Mbit/s (ä¸Šã‚Šä¸‹ã‚Š)  | 500 Mbit/s (ä¸Šã‚Šä¸‹ã‚Š) è¤‡æ•°ãƒ¦ãƒ¼ã‚¶ãƒ¼åˆ©ç”¨æ™‚ã«æ¨å¥¨ |

#### ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢

| ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  | ã‚ªãƒ—ã‚·ãƒ§ãƒ³                                                      |
| ---------------- | -------------------------------------------------------------- |
| OS               | Ubuntu (14.04, 16.04, 18.04), Debian(8,9,10), CentOS 6.5/7     |
| ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹     | MySQLã¾ãŸã¯MariaDB 5.5+ï¼ˆæ¨å¥¨ï¼‰ã€SQLiteï¼ˆãƒ†ã‚¹ãƒˆã‚„æœ€å°æ§‹æˆã®ã¿æ¨å¥¨ï¼‰ |
| Webã‚µãƒ¼ãƒãƒ¼      | Apache 2.4 + `mod_php` ã¾ãŸã¯ `php-fpm`ï¼ˆæ¨å¥¨ï¼‰                 |
| PHP              | 5.6ã€7.0ï¼ˆæ¨å¥¨ï¼‰ã€7.1ï¼ˆæ¨å¥¨ï¼‰ã€7.2                              |

## æº–å‚™ä½œæ¥­

Linuxã‚µãƒ¼ãƒãƒ¼ã«ã‚¯ãƒ©ã‚¦ãƒ‰ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã«ã¯SSHã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§æ¥ç¶šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚SSHã®ä½¿ã„æ–¹ãŒã‚ã‹ã‚‰ãªã„å ´åˆã¯ã€ã“ã¡ã‚‰ã®ã‚¬ã‚¤ãƒ‰ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ï¼š[åˆå›ã‚¢ã‚¯ã‚»ã‚¹ï¼ˆSSHï¼‰](vserver-linux-ssh.md)

æ¥ç¶šãŒç¢ºç«‹ã—ãŸã‚‰ã€Nextcloudã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã«å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ã“ã‚Œã«ã¯Webã‚µãƒ¼ãƒãƒ¼ã¨PHPã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå«ã¾ã‚Œã¾ã™ã€‚

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs>

<TabItem value="Debian" label="Debian" default>

<br/>

**Apacheï¼ˆWebã‚µãƒ¼ãƒãƒ¼ï¼‰**

ğŸ—„ï¸ Debian 8/9/10:
```
sudo apt update && sudo apt -y upgrade
sudo apt -y install apache2
```

**PHPï¼ˆãƒã‚¤ãƒ‘ãƒ¼ãƒ†ã‚­ã‚¹ãƒˆãƒ—ãƒªãƒ—ãƒ­ã‚»ãƒƒã‚µï¼‰**

ğŸ—„ï¸ Debian 8:
```
# ã‚¹ãƒ†ãƒƒãƒ—1: PHP 7.3 PPAãƒªãƒã‚¸ãƒˆãƒªã®è¿½åŠ 
sudo apt -y install lsb-release apt-transport-https ca-certificates 
sudo wget -O /etc/apt/trusted.gpg.d/php.gpg https://packages.sury.org/php/apt.gpg
echo "deb https://packages.sury.org/php/ $(lsb_release -sc) main" | sudo tee /etc/apt/sources.list.d/php7.3.list

# ã‚¹ãƒ†ãƒƒãƒ—2: PHP 7.3ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
sudo apt -y install php7.3

# ã‚¹ãƒ†ãƒƒãƒ—3: PHP 7.3æ‹¡å¼µãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
sudo apt install php7.3-cli php7.3-fpm php7.3-json php7.3-pdo php7.3-mysql php7.3-zip php7.3-gd  php7.3-mbstring php7.3-curl php7.3-xml php7.3-bcmath php7.3-json
```

ğŸ—„ï¸ Debian 9:
```
# ã‚¹ãƒ†ãƒƒãƒ—1: PHP 7.3 PPAãƒªãƒã‚¸ãƒˆãƒªã®è¿½åŠ 
sudo apt -y install lsb-release apt-transport-https ca-certificates 
sudo wget -O /etc/apt/trusted.gpg.d/php.gpg https://packages.sury.org/php/apt.gpg
echo "deb https://packages.sury.org/php/ $(lsb_release -sc) main" | sudo tee /etc/apt/sources.list.d/php7.3.list

# ã‚¹ãƒ†ãƒƒãƒ—2: PHP 7.3ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
sudo apt -y install php7.3

# ã‚¹ãƒ†ãƒƒãƒ—3: PHP 7.3æ‹¡å¼µãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
sudo apt install php7.3-cli php7.3-fpm php7.3-json php7.3-pdo php7.3-mysql php7.3-zip php7.3-gd  php7.3-mbstring php7.3-curl php7.3-xml php7.3-bcmath php7.3-json
```

ğŸ—„ï¸ Debian 10:
```
# ã‚¹ãƒ†ãƒƒãƒ—1: PHP 7.3ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
sudo apt -y install php php-common

# ã‚¹ãƒ†ãƒƒãƒ—2: PHP 7.3æ‹¡å¼µãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
sudo apt -y install php-cli php-fpm php-json php-pdo php-mysql php-zip php-gd  php-mbstring php-curl php-xml php-pear php-bcmath
```

PHPã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª
```
php -v
```

</TabItem>
<TabItem value="Ubuntu" label="Ubuntu">

<br/>

**Apacheï¼ˆWebã‚µãƒ¼ãƒãƒ¼ï¼‰**

ğŸ—„ï¸ Ubuntu 16.X/18.X/19.X:
```
sudo apt update && sudo apt -y upgrade
sudo apt-get -y install apache2
```

**PHPï¼ˆãƒã‚¤ãƒ‘ãƒ¼ãƒ†ã‚­ã‚¹ãƒˆãƒ—ãƒªãƒ—ãƒ­ã‚»ãƒƒã‚µï¼‰**

ğŸ—„ï¸ Ubuntu 16.X:
```
# ã‚¹ãƒ†ãƒƒãƒ—1: PHP 7.3 PPAã®è¿½åŠ 
sudo apt-get install software-properties-common
sudo add-apt-repository ppa:ondrej/php

# ã‚¹ãƒ†ãƒƒãƒ—2: PHP 7.3ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
sudo apt-get update
sudo apt-get install -y php7.3

# ã‚¹ãƒ†ãƒƒãƒ—3: PHP 7.3æ‹¡å¼µãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
sudo apt install php7.3-cli php7.3-fpm php7.3-json php7.3-pdo php7.3-mysql php7.3-zip php7.3-gd  php7.3-mbstring php7.3-curl php7.3-xml php7.3-bcmath php7.3-json
```

ğŸ—„ï¸ Ubuntu 18.X:
```
# ã‚¹ãƒ†ãƒƒãƒ—1: PHP 7.3 PPAã®è¿½åŠ 
sudo apt-get install software-properties-common
sudo add-apt-repository ppa:ondrej/php

# ã‚¹ãƒ†ãƒƒãƒ—2: PHP 7.3ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
sudo apt-get update
sudo apt-get install -y php7.3

# ã‚¹ãƒ†ãƒƒãƒ—3: PHP 7.3æ‹¡å¼µãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
sudo apt install php7.3-cli php7.3-fpm php7.3-json php7.3-pdo php7.3-mysql php7.3-zip php7.3-gd  php7.3-mbstring php7.3-curl php7.3-xml php7.3-bcmath php7.3-json
```

ğŸ—„ï¸ Ubuntu 19.X:
```
# ã‚¹ãƒ†ãƒƒãƒ—1: PHP 7.3 PPAã®è¿½åŠ 
sudo apt-get install software-properties-common
sudo add-apt-repository ppa:ondrej/php

# ã‚¹ãƒ†ãƒƒãƒ—2: PHP 7.3ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
sudo apt-get update
sudo apt-get install -y php7.3

# ã‚¹ãƒ†ãƒƒãƒ—3: PHP 7.3æ‹¡å¼µãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
sudo apt install php7.3-cli php7.3-fpm php7.3-json php7.3-pdo php7.3-mysql php7.3-zip php7.3-gd  php7.3-mbstring php7.3-curl php7.3-xml php7.3-bcmath php7.3-json
```

PHPã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª
```
php -v
```

</TabItem>
<TabItem value="CentOS" label="CentOS">
<br/>

**Apacheï¼ˆWebã‚µãƒ¼ãƒãƒ¼ï¼‰**

ğŸ—„ï¸ CentOS 6:
```
sudo yum -y update
sudo yum -y install httpd
sudo firewall-cmd --permanent --zone=public --add-service=http
sudo firewall-cmd --permanent --zone=public --add-service=https
sudo firewall-cmd --reload
sudo systemctl start httpd
sudo systemctl enable httpd.service
```

ğŸ—„ï¸ CentOS 7:
```
sudo yum -y update
sudo yum -y install httpd
sudo firewall-cmd --permanent --zone=public --add-service=http
sudo firewall-cmd --permanent --zone=public --add-service=https
sudo firewall-cmd --reload
sudo systemctl start httpd
sudo systemctl enable httpd
```

ğŸ—„ï¸ CentOS 8:
```
sudo yum -y update
sudo yum -y install httpd
sudo firewall-cmd --permanent --zone=public --add-service=http
sudo firewall-cmd --permanent --zone=public --add-service=https
sudo firewall-cmd --reload
sudo systemctl start httpd
sudo systemctl enable httpd
```

**PHPï¼ˆãƒã‚¤ãƒ‘ãƒ¼ãƒ†ã‚­ã‚¹ãƒˆãƒ—ãƒªãƒ—ãƒ­ã‚»ãƒƒã‚µï¼‰**

ğŸ—„ï¸ CentOS 6:
```
# ã‚¹ãƒ†ãƒƒãƒ—1: Yumãƒªãƒã‚¸ãƒˆãƒªã®è¨­å®š
yum install epel-release
rpm -Uvh http://rpms.famillecollet.com/enterprise/remi-release-6.rpm

# ã‚¹ãƒ†ãƒƒãƒ—2: PHP 7.3ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
yum --enablerepo=remi-php73 install php

# ã‚¹ãƒ†ãƒƒãƒ—3: PHP 7.3æ‹¡å¼µãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
yum --enablerepo=remi-php73 install php-xml php-soap php-xmlrpc php-mbstring php-json php-gd php-mcrypt
```

ğŸ—„ï¸ CentOS 7:
```
# ã‚¹ãƒ†ãƒƒãƒ—1: Yumãƒªãƒã‚¸ãƒˆãƒªã®è¨­å®š
yum install epel-release
rpm -Uvh http://rpms.famillecollet.com/enterprise/remi-release-7.rpm

# ã‚¹ãƒ†ãƒƒãƒ—2: PHP 7.3ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
yum --enablerepo=remi-php73 install php

# ã‚¹ãƒ†ãƒƒãƒ—3: PHP 7.3æ‹¡å¼µãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
yum --enablerepo=remi-php73 install php-xml php-soap php-xmlrpc php-mbstring php-json php-gd php-mcrypt
```

ğŸ—„ï¸ CentOS 8:
```
# ã‚¹ãƒ†ãƒƒãƒ—1: Yumãƒªãƒã‚¸ãƒˆãƒªã®è¨­å®š
dnf install dnf-utils http://rpms.remirepo.net/enterprise/remi-release-8.rpm

# ã‚¹ãƒ†ãƒƒãƒ—2: PHP 7.3ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
dnf module reset php
dnf module enable php:remi-7.3
dnf install php
```

PHPã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª
```
php -v
```

</TabItem>
</Tabs>

æ¬¡ã«ã€Nextcloudã®æƒ…å ±ã‚’ä¿å­˜ã™ã‚‹ãŸã‚ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ç¨®é¡ã‚’æ±ºã‚ã¾ã™ã€‚é¸æŠè‚¢ã¯ã„ãã¤ã‹ã‚ã‚Šã¾ã™ï¼š

<Tabs>

<TabItem value="MariaDB" label="MariaDB" default>

<br/>
MariaDBã‚’ä½¿ã†å ´åˆã¯ä»¥ä¸‹ã®æ‰‹é †ã«å¾“ã£ã¦ãã ã•ã„ï¼š

ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼š
```
sudo apt-get install mariadb-server php-mysql
```

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸­ã«rootãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®è¨­å®šã‚’æ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚è¦æ±‚ãŒãªã‘ã‚Œã°ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ç©ºãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã§ã™ã€‚ã“ã‚Œã¯å®‰å…¨ã§ã¯ãªã„ã®ã§ã€ã™ãã«å¤‰æ›´ã—ã¦ãã ã•ã„ï¼

æ¬¡ã«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚µãƒ¼ãƒãƒ¼ã«æ¥ç¶šã—ã€å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½œæˆã—ã¾ã™ï¼š

```sql
mysql -u root -p
CREATE DATABASE nextcloud;
```

ç¶šã„ã¦ã€Nextcloudãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆã—ã¾ã™ã€‚

```sql
CREATE USER 'nc_user'@'localhost' IDENTIFIED BY 'YOUR_PASSWORD_HERE';
```

:::info
rootãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½¿ã£ã¦ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’çœç•¥ã—ãªã„ã§ãã ã•ã„ã€‚å®‰å…¨ã§ã¯ãªãã€ãƒ‡ãƒ¼ã‚¿ãŒå±é™ºã«ã•ã‚‰ã•ã‚Œã¾ã™ï¼
:::

æœ€å¾Œã«æ–°ã—ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æ¨©é™ã‚’ä»˜ä¸ã—ã¾ã™ï¼š

```SQL
GRANT ALL PRIVILEGES ON nextcloud.* TO 'nc_user'@'localhost';
FLUSH PRIVILEGES;
```

å®Œäº†ã—ãŸã‚‰Ctrl-Dã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’çµ‚äº†ã—ã€æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã«é€²ã¿ã¾ã™ã€‚

</TabItem>
<TabItem value="MySQL" label="MySQL">

<br/>
MySQLã‚’ä½¿ã†å ´åˆã¯ä»¥ä¸‹ã®æ‰‹é †ã«å¾“ã£ã¦ãã ã•ã„ï¼š

ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼š
```
sudo apt-get install mysql-server php-mysql
```

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸­ã«rootãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®è¨­å®šã‚’æ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚è¦æ±‚ãŒãªã‘ã‚Œã°ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ç©ºãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã§ã™ã€‚ã“ã‚Œã¯å®‰å…¨ã§ã¯ãªã„ã®ã§ã€ã™ãã«å¤‰æ›´ã—ã¦ãã ã•ã„ï¼

æ¬¡ã«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚µãƒ¼ãƒãƒ¼ã«æ¥ç¶šã—ã€å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½œæˆã—ã¾ã™ï¼š

```sql
mysql -u root -p
CREATE DATABASE nextcloud;
```

ç¶šã„ã¦ã€Nextcloudãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆã—ã¾ã™ã€‚

```sql
CREATE USER 'nc_user'@'localhost' IDENTIFIED BY 'YOUR_PASSWORD_HERE';
```

:::info
rootãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½¿ã£ã¦ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’çœç•¥ã—ãªã„ã§ãã ã•ã„ã€‚å®‰å…¨ã§ã¯ãªãã€ãƒ‡ãƒ¼ã‚¿ãŒå±é™ºã«ã•ã‚‰ã•ã‚Œã¾ã™ï¼
:::

æœ€å¾Œã«æ–°ã—ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æ¨©é™ã‚’ä»˜ä¸ã—ã¾ã™ï¼š

```SQL
GRANT ALL PRIVILEGES ON nextcloud.* TO 'nc_user'@'localhost';
FLUSH PRIVILEGES;
```

å®Œäº†ã—ãŸã‚‰Ctrl-Dã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’çµ‚äº†ã—ã€æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã«é€²ã¿ã¾ã™ã€‚

</TabItem>
<TabItem value="PostgreSQL" label="PostgreSQL">
<br/>
PostgreSQLã‚’ä½¿ã†å ´åˆã¯ä»¥ä¸‹ã®æ‰‹é †ã«å¾“ã£ã¦ãã ã•ã„ï¼š

ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼š
```
sudo apt-get update
sudo apt-get install postgresql postgresql-contrib
```

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸­ã«rootãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®è¨­å®šã‚’æ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚è¦æ±‚ãŒãªã‘ã‚Œã°ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ç©ºãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã§ã™ã€‚ã“ã‚Œã¯å®‰å…¨ã§ã¯ãªã„ã®ã§ã€ã™ãã«å¤‰æ›´ã—ã¦ãã ã•ã„ï¼

æ¬¡ã«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚µãƒ¼ãƒãƒ¼ã«æ¥ç¶šã—ã€å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½œæˆã—ã¾ã™ï¼š

```sql
sudo -u postgres psql
CREATE DATABASE nextcloud;
```

ç¶šã„ã¦ã€Nextcloudãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆã—ã¾ã™ã€‚

```sql
CREATE USER nextcloud with encrypted password 'YOUR_PASSWORD_HERE';
```

:::info
rootãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½¿ã£ã¦ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’çœç•¥ã—ãªã„ã§ãã ã•ã„ã€‚å®‰å…¨ã§ã¯ãªãã€ãƒ‡ãƒ¼ã‚¿ãŒå±é™ºã«ã•ã‚‰ã•ã‚Œã¾ã™ï¼
:::

æœ€å¾Œã«æ–°ã—ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æ¨©é™ã‚’ä»˜ä¸ã—ã¾ã™ï¼š

```SQL
grant all privileges on database mydb to myuser;
FLUSH PRIVILEGES;
```

å®Œäº†ã—ãŸã‚‰Ctrl-Dã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’çµ‚äº†ã—ã¾ã™ã€‚ãã®å¾Œã€PostgreSQLãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¯Webã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãƒ¼ã¾ãŸã¯**config.php**è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ä¿®æ­£ã§ãã¾ã™ã€‚

```
<?php
$AUTOCONFIG = array(
  "dbtype"        => "pgsql",
  "dbname"        => "nextcloud",
  "dbuser"        => "username",
  "dbpass"        => "password",
  "dbhost"        => "localhost",
  "dbtableprefix" => "",
);
```

</TabItem>
<TabItem value="SQLite" label="SQLite">

<br/>
SQLiteã‚’ä½¿ã†å ´åˆã¯ä»¥ä¸‹ã®æ‰‹é †ã«å¾“ã£ã¦ãã ã•ã„ï¼š

ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼š
```
apt-get install sqlite3 php-sqlite3
```

SQLite 3ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ä½œæˆ
```
sqlite3 DatabaseName.db
```

ãã®å¾Œã€SQLite 3ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¯Webã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãƒ¼ã¾ãŸã¯**config.php**è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ä¿®æ­£ã§ãã¾ã™ã€‚
```
<?php
$AUTOCONFIG = array(
  "dbtype"        => "sqlite",
  "dbname"        => "nextcloud",
  "dbtableprefix" => "",
);
```
</TabItem>
</Tabs>

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ã„ã‚ˆã„ã‚ˆNextcloudã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’é–‹å§‹ã—ã¾ã™ã€‚ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦è§£å‡ã—ã¾ã™ï¼š
```
cd /var/www/
wget https://download.nextcloud.com/server/releases/latest.zip
apt-get install unzip
unzip latest.zip
chown -R www-data:www-data nextcloud
rm latest.zip
```

ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ãŒå®Œäº†ã—ãŸã‚‰ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ä»¥ä¸‹ã®URLã§ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã§ã™ï¼š

:::info
**http://domain.tld/nextcloud/** 
:::

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®è¨­å®šç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã€rootãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½œæˆã‚„ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æƒ…å ±ã®è¨­å®šã‚’è¡Œã„ã¾ã™ï¼š

![](https://screensaver01.zap-hosting.com/index.php/s/BdLXfzQwpRPbL9E/preview)


![](https://screensaver01.zap-hosting.com/index.php/s/BNcyjRJNeT9dcZj/preview)


## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨å®‰å…¨æ€§

**ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—è­¦å‘Š**

![](https://screensaver01.zap-hosting.com/index.php/s/PdzHSP5WaPEcQqH/preview)



**ãƒ‡ãƒ¼ã‚¿ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª**

ãƒ‡ãƒ¼ã‚¿ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯Webãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆä¾‹ï¼š/var/wwwï¼‰å¤–ã«ç½®ãã“ã¨ã‚’å¼·ãæ¨å¥¨ã—ã¾ã™ã€‚æ–°è¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã«è¨­å®šå¯èƒ½ã§ã™ãŒã€äº‹å‰ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—é©åˆ‡ãªæ¨©é™ã‚’è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ä¾‹ãˆã°ãƒ›ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã«Cloudã¨ã„ã†åå‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã¦ä¿å­˜ã™ã‚‹æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚

```
mkdir /home/cloud/
chown -R www-data:www-data /home/cloud/
```



**SSLè¨¼æ˜æ›¸ï¼ˆLet's Encryptï¼‰ã«ã‚ˆã‚‹HTTPS**

å®‰å…¨ãªã‚¯ãƒ©ã‚¦ãƒ‰ç’°å¢ƒã¯SSLæ¥ç¶šã®ã¿ã§ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã«ã™ã¹ãã§ã™ã€‚SSLãªã—ã§ã¯ãƒ‡ãƒ¼ã‚¿ãŒå¹³æ–‡ã§é€ä¿¡ã•ã‚Œã€ç°¡å˜ã«å‚å—ãƒ»é–²è¦§ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚

```
<IfModule mod_ssl.c>
<VirtualHost *:443>
 DocumentRoot "/var/www/nextcloud"
 ServerName domain.tld

 ErrorLog ${APACHE_LOG_DIR}/error.log
 CustomLog ${APACHE_LOG_DIR}/access.log combined

<Directory /var/www/nextcloud/>
 Options +FollowSymlinks
 AllowOverride All

 <IfModule mod_dav.c>
 Dav off
 </IfModule>

 SetEnv HOME /var/www/nextcloud
 SetEnv HTTP_HOME /var/www/nextcloud
 Satisfy Any

</Directory>

SSLCertificateFile /etc/letsencrypt/live/domain.tld/fullchain.pem
SSLCertificateKeyFile /etc/letsencrypt/live/domain.tld/privkey.pem
</VirtualHost>
</IfModule>

<IfModule mod_headers.c>
     Header always set Strict-Transport-Security "max-age=15768000; preload"
 </IfModule>
```



ã•ã‚‰ã«ã€ã™ã¹ã¦ã®HTTPãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã¯ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰301ã®æ’ä¹…çš„ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã§HTTPSã«è»¢é€ã™ã¹ãã§ã™ã€‚Apacheã®VirtualHostsè¨­å®šä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š

```
<VirtualHost *:80>
   ServerName domain.tld
   Redirect permanent / https://domain.tld/
</VirtualHost>
```


## Nextcloudã®ç®¡ç†

Nextcloudã«ã¯ãƒ–ãƒ©ã‚¦ã‚¶ã ã‘ã§ãªãã€ã‚¹ãƒãƒ›ã‚„PCã®ã‚¢ãƒ—ãƒªã‹ã‚‰ã‚‚ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã§ã™ã€‚ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã¯ã“ã¡ã‚‰ã‹ã‚‰ï¼šhttps://nextcloud.com/install/#install-clients

![](https://screensaver01.zap-hosting.com/index.php/s/5ay4YtgM8szkrxM/preview)

è¨­å®šç”»é¢ã§ã¯ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å¾Œã‚‚ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®èª¿æ•´ã‚„ãƒ­ã‚°ã€ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã®ç¢ºèªãŒã§ãã¾ã™ã€‚äºŒæ®µéšèªè¨¼ã‚„æš—å·åŒ–ãªã©ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šã€ãƒ­ã‚´ã‚„ã‚«ãƒ©ãƒ¼ã€ã‚¹ãƒ­ãƒ¼ã‚¬ãƒ³ã€ãƒ˜ãƒƒãƒ€ãƒ¼ã®ãƒ‡ã‚¶ã‚¤ãƒ³è¨­å®šã€ã‚¢ã‚¯ã‚»ã‚¹è¨­å®šãªã©ã‚‚ã“ã“ã§è¡Œãˆã¾ã™ã€‚

**ã‚¢ãƒ—ãƒª**

ã•ã‚‰ã«ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆä»¥å¤–ã®è¿½åŠ ã‚¢ãƒ—ãƒªã‚‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯èƒ½ã§ã™ã€‚ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®**Apps**ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚

![](https://screensaver01.zap-hosting.com/index.php/s/AG8PCQwDfsKGQXS/preview)

ã“ã†ã—ãŸ**Apps**ã§Nextcloudã‚’è‡ªåˆ†å¥½ã¿ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã¾ã™ã€‚

<InlineVoucher />