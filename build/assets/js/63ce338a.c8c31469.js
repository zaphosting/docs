"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[7870],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>f});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=r.createContext({}),l=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=l(e.components);return r.createElement(c.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=l(n),m=a,f=u["".concat(c,".").concat(m)]||u[m]||d[m]||o;return n?r.createElement(f,i(i({ref:t},p),{},{components:n})):r.createElement(f,i({ref:t},p))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=m;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[u]="string"==typeof e?e:a,i[1]=s;for(var l=2;l<o;l++)i[l]=n[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},7425:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var r=n(7462),a=(n(7294),n(3905));const o={id:"vserver_linux_ssl",title:"VPS Create SSL certificate (Let's Encrypt) for Linux server",description:"Information on how to create an SSL certificate with Let's Entcrypt for your VPS from ZAP-Hosting - ZAP-Hosting.com documentation",sidebar_label:"SSL-Certificate (Let's Encrypt)"},i=void 0,s={unversionedId:"vserver_linux_ssl",id:"vserver_linux_ssl",title:"VPS Create SSL certificate (Let's Encrypt) for Linux server",description:"Information on how to create an SSL certificate with Let's Entcrypt for your VPS from ZAP-Hosting - ZAP-Hosting.com documentation",source:"@site/docs/vserver_linux_ssl.md",sourceDirName:".",slug:"/vserver_linux_ssl",permalink:"/guides/docs/vserver_linux_ssl",draft:!1,editUrl:"https://github.com/zaphosting/docs/tree/master/docs/vserver_linux_ssl.md",tags:[],version:"current",frontMatter:{id:"vserver_linux_ssl",title:"VPS Create SSL certificate (Let's Encrypt) for Linux server",description:"Information on how to create an SSL certificate with Let's Entcrypt for your VPS from ZAP-Hosting - ZAP-Hosting.com documentation",sidebar_label:"SSL-Certificate (Let's Encrypt)"}},c={},l=[{value:"What is Let&#39;s Encrypt?",id:"what-is-lets-encrypt",level:2},{value:"Preparation",id:"preparation",level:2},{value:"Setup",id:"setup",level:2},{value:"Renew SSL certificate automatically (optional)",id:"renew-ssl-certificate-automatically-optional",level:2}],p={toc:l},u="wrapper";function d(e){let{components:t,...n}=e;return(0,a.kt)(u,(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"what-is-lets-encrypt"},"What is Let's Encrypt?"),(0,a.kt)("p",null,"Let's Encrypt is a Certificate Authority (CA) that offers free SSL/TLS certificates. This way you can get a valid SSL certificate for your domain for free. The certificates can only be requested from the server the domain points to. Let's Encrypt checks the DNS of the domain which points to the current server. Then the certificate will be generated. In this tutorial we explain the setup with both Apache and Nginx web servers. "),(0,a.kt)("h2",{id:"preparation"},"Preparation"),(0,a.kt)("p",null,"In order to generate an SSL certificate, it is essential that the DNS settings have already been set so that the domain points to the service. It is also important that a web server is installed. If not yet done, a web server of your choice must be installed. Both Apache and Nginx can be used. The services can be set up with the following commands:\n",(0,a.kt)("strong",{parentName:"p"},"Apache:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"sudo apt-get install apache2\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Nginx:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"sudo apt-get install nginx\n")),(0,a.kt)("h2",{id:"setup"},"Setup"),(0,a.kt)("p",null,"If all points have been considered in the preparation, then we can start with the actual setup of Let's Encrypt. To do so, we first need the Let's Encrypt client, which we can use to generate the certificate afterwards:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"sudo apt-get install git\nsudo git clone https://github.com/letsencrypt/letsencrypt /opt/letsencrypt\ncd /opt/letsencrypt\n")),(0,a.kt)("p",null,"Now we can generate the SSL certificate. The command for this looks like this:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"sudo -H ./letsencrypt-auto certonly --standalone -d example.com -d www.example.com\n")),(0,a.kt)("p",null,"For each additional domain/subdomain name a ",(0,a.kt)("strong",{parentName:"p"},"-d example.com")," must be added. Instead of example.com you add your ordered domain name to it. You will then be asked to enter a ",(0,a.kt)("strong",{parentName:"p"},"e-mail address"),". Press ",(0,a.kt)("strong",{parentName:"p"},"Enter")," to confirm your input. After that you have to confirm the terms of use:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"-------------------------------------------------------------------------------\nPlease read the Terms of Service at\nhttps://letsencrypt.org/documents/LE-SA-v1.2-November-15-2017.pdf. You must\nagree in order to register with the ACME server at\nhttps://acme-v01.api.letsencrypt.org/directory\n-------------------------------------------------------------------------------\n(A)gree/(C)ancel: a\n\n-------------------------------------------------------------------------------\nWould you be willing to share your email address with the Electronic Frontier\nFoundation, a founding partner of the Let's Encrypt project and the non-profit\norganization that develops Certbot? We'd like to send you email about EFF and\nour work to encrypt the web, protect its users and defend digital rights.\n-------------------------------------------------------------------------------\n(Y)es/(N)o: n\n")),(0,a.kt)("p",null,"If everything is fine, then you will see a message like the following. This message means that Let's Encrypt has approved and created your certificate."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'IMPORTANT NOTES:\n - Congratulations! Your certificate and chain have been saved at:\n   /etc/letsencrypt/live/example.com/fullchain.pem\n   Your key file has been saved at:\n   /etc/letsencrypt/live/example.com/privkey.pem\n   Your cert will expire on 2018-05-27. To obtain a new or tweaked\n   version of this certificate in the future, simply run\n   letsencrypt-auto again. To non-interactively renew *all* of your\n   certificates, run "letsencrypt-auto renew"\n - If you like Certbot, please consider supporting our work by:\n\n   Donating to ISRG / Let\'s Encrypt:   https://letsencrypt.org/donate\n   Donating to EFF:                    https://eff.org/donate-le\n')),(0,a.kt)("p",null,"Finally, the virtual host file of the web server must be adjusted accordingly. Depending on the web server the following options have to be adjusted:\n",(0,a.kt)("strong",{parentName:"p"},"Apache:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"SSLEngine on\nSSLCertificateFile /etc/letsencrypt/live/example.com/cert.pem\nSSLCertificateKeyFile /etc/letsencrypt/live/example.com/privkey.pem\nSSLCertificateChainFile /etc/letsencrypt/live/example.com/chain.pem\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Nginx:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"ssl on;\nssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;\nssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem;\n")),(0,a.kt)("h2",{id:"renew-ssl-certificate-automatically-optional"},"Renew SSL certificate automatically (optional)"),(0,a.kt)("p",null,"Furthermore, the renewal of certificates can also be automated. This prevents the certificates from expiring. You can implement this with a cronjob. Execute the command ",(0,a.kt)("strong",{parentName:"p"},"sudo crontab -e")," and add the following content at the end:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"0 0 1 * * /opt/letsencrypt/letsencrypt-auto renew\n")))}d.isMDXComponent=!0}}]);