"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[3826],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>m});var o=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},l=Object.keys(e);for(o=0;o<l.length;o++)t=l[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)t=l[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=o.createContext({}),p=function(e){var n=o.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},c=function(e){var n=p(e.components);return o.createElement(s.Provider,{value:n},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},h=o.forwardRef((function(e,n){var t=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=p(t),h=r,m=u["".concat(s,".").concat(h)]||u[h]||d[h]||l;return t?o.createElement(m,a(a({ref:n},c),{},{components:t})):o.createElement(m,a({ref:n},c))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var l=t.length,a=new Array(l);a[0]=h;var i={};for(var s in n)hasOwnProperty.call(n,s)&&(i[s]=n[s]);i.originalType=e,i[u]="string"==typeof e?e:r,a[1]=i;for(var p=2;p<l;p++)a[p]=t[p];return o.createElement.apply(null,a)}return o.createElement.apply(null,t)}h.displayName="MDXCreateElement"},9056:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>a,default:()=>d,frontMatter:()=>l,metadata:()=>i,toc:()=>p});var o=t(7462),r=(t(7294),t(3905));const l={id:"vserver_linux_openvpn",title:"VPS Install OpenVPN on server",description:"Information on how to install and set up OpenVPN on your VPS from ZAP-Hosting - ZAP-Hosting.com documentation",sidebar_label:"OpenVPN"},a="Activate TUN",i={unversionedId:"vserver_linux_openvpn",id:"vserver_linux_openvpn",title:"VPS Install OpenVPN on server",description:"Information on how to install and set up OpenVPN on your VPS from ZAP-Hosting - ZAP-Hosting.com documentation",source:"@site/docs/vserver_linux_openvpn.md",sourceDirName:".",slug:"/vserver_linux_openvpn",permalink:"/guides/docs/vserver_linux_openvpn",draft:!1,editUrl:"https://github.com/zaphosting/docs/tree/master/docs/vserver_linux_openvpn.md",tags:[],version:"current",frontMatter:{id:"vserver_linux_openvpn",title:"VPS Install OpenVPN on server",description:"Information on how to install and set up OpenVPN on your VPS from ZAP-Hosting - ZAP-Hosting.com documentation",sidebar_label:"OpenVPN"}},s={},p=[],c={toc:p},u="wrapper";function d(e){let{components:n,...t}=e;return(0,r.kt)(u,(0,o.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"activate-tun"},"Activate TUN"),(0,r.kt)("p",null,"First of all the network driver ",(0,r.kt)("strong",{parentName:"p"},"TUN")," must be activated. This step is not required for root servers.\nTo do this you have to create a new file called ",(0,r.kt)("strong",{parentName:"p"},"tunscript.sh")," in the ",(0,r.kt)("strong",{parentName:"p"},"/usr/sbin")," folder. "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"nano /usr/sbin/tunscript.sh \n")),(0,r.kt)("p",null,"Insert the following lines afterwards:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"#!/bin/bash\nmkdir /dev/net\nmknod /dev/net/tun c 10 200\nchmod 0666 /dev/net/tun\n")),(0,r.kt)("p",null,"Save the file by pressing 'STRG+O', then 'Y' and finally press 'Enter'. To exit the file press 'CTRL+X'."),(0,r.kt)("p",null,"After that run the following command: "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"chmod +x /usr/sbin/tunscript.sh\n")),(0,r.kt)("p",null,"Once you have done this, run ",(0,r.kt)("inlineCode",{parentName:"p"},"crontab -e")," and select the ",(0,r.kt)("strong",{parentName:"p"},"nano editor")," ","[1]",". Add this line to the end of the file:\n",(0,r.kt)("inlineCode",{parentName:"p"},"@reboot /usr/sbin/tunscript.sh || exit 1")),(0,r.kt)("p",null,"Save the file by pressing 'STRG+O', then 'Y' and finally press 'Enter'. To exit the file press 'CTRL+X'."),(0,r.kt)("p",null,"You should then be able to continue after a restart."),(0,r.kt)("h1",{id:"installation-of-openvpn"},"Installation of OpenVPN"),(0,r.kt)("p",null,"In order to install OpenVPN, execute the following command in the console: "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"wget https://git.io/vpn -O openvpn-install.sh && bash openvpn-install.sh\n")),(0,r.kt)("p",null,"Then a dialog appears asking whether you want to use UDP or TCP. We recommend UDP, hence you type '1' and press 'Enter'."),(0,r.kt)("p",null,"After that you will be asked for a port for OpenVPN. Select a port. "),(0,r.kt)("p",null,"Then you have to configure the DNS server. We recommend using either Google or Cloudflare DNS:\n8.8.8.8 / 8.8.4.4 - Google\n1.1.1.1 / 1.0.01 - Cloudflare"),(0,r.kt)("p",null,"Following this step, you have to define a client name. To do this, choose a name such as the name of your device."),(0,r.kt)("h1",{id:"add-more-clients"},"Add more clients"),(0,r.kt)("p",null,"If you want to create multiple connections, it is useful to create multiple accounts. To create another account, execute the following command: "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"wget https://git.io/vpn -O openvpn-install.sh && bash openvpn-install.sh\n")),(0,r.kt)("p",null,"Select '1' and then confirm. Now you have to define the client name. "),(0,r.kt)("h1",{id:"connect-to-the-vpn"},"Connect to the VPN"),(0,r.kt)("p",null,"If you want to connect to your VPN, then you need the OpenVPN client. There you can find the download sources: ",(0,r.kt)("a",{parentName:"p",href:"https://openvpn.net/community-downloads/"},"https://openvpn.net/community-downloads/")),(0,r.kt)("p",null,"Connect via SFTP to your server to download the created .ovpn file and then delete the file on your server afterwards."),(0,r.kt)("p",null,"As soon as you have installed the client, start the program. Right click on the OpenVPN icon in the taskbar. Then click on 'Import file' and select the file you downloaded earlier and click 'Open'."),(0,r.kt)("p",null,'To connect, click again on icon and select "Connect".'),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u26a0\ufe0f In case you have imported several files, you have to select the client you want to use and then click on Connect")),(0,r.kt)("h1",{id:"remove-clients"},"Remove clients"),(0,r.kt)("p",null,"Run the following command to remove a Client:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"wget https://git.io/vpn -O openvpn-install.sh && bash openvpn-install.sh\n")),(0,r.kt)("p",null,"Select the number of the client in your list which you want to remove. Then press 'Enter'. You will now be prompted to confirm the deletion. If you are sure, press 'y' and then 'Enter'.\nThe client should be removed at this point. "),(0,r.kt)("h1",{id:"uninstall-openvpn"},"Uninstall OpenVPN."),(0,r.kt)("p",null,"If you no longer need OpenVPN, then you can uninstall it this way:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"wget https://git.io/vpn -O openvpn-install.sh && bash openvpn-install.sh\n")),(0,r.kt)("p",null,"Press '3' and confirm. Confirm once again and OpenVPN is uninstalled after that."))}d.isMDXComponent=!0}}]);