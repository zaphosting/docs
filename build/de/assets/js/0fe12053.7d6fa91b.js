"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[3093],{3905:(e,t,n)=>{n.d(t,{Zo:()=>o,kt:()=>h});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=r.createContext({}),u=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},o=function(e){var t=u(e.components);return r.createElement(p.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,p=e.parentName,o=s(e,["components","mdxType","originalType","parentName"]),d=u(n),m=a,h=d["".concat(p,".").concat(m)]||d[m]||c[m]||l;return n?r.createElement(h,i(i({ref:t},o),{},{components:n})):r.createElement(h,i({ref:t},o))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,i=new Array(l);i[0]=m;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[d]="string"==typeof e?e:a,i[1]=s;for(var u=2;u<l;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5162:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(7294),a=n(6010);const l={tabItem:"tabItem_Ymn6"};function i(e){let{children:t,hidden:n,className:i}=e;return r.createElement("div",{role:"tabpanel",className:(0,a.Z)(l.tabItem,i),hidden:n},t)}},4866:(e,t,n)=>{n.d(t,{Z:()=>N});var r=n(7462),a=n(7294),l=n(6010),i=n(2466),s=n(6550),p=n(1980),u=n(7392),o=n(12);function d(e){return function(e){return a.Children.map(e,(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:n,attributes:r,default:a}}=e;return{value:t,label:n,attributes:r,default:a}}))}function c(e){const{values:t,children:n}=e;return(0,a.useMemo)((()=>{const e=t??d(n);return function(e){const t=(0,u.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function m(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function h(e){let{queryString:t=!1,groupId:n}=e;const r=(0,s.k6)(),l=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,p._X)(l),(0,a.useCallback)((e=>{if(!l)return;const t=new URLSearchParams(r.location.search);t.set(l,e),r.replace({...r.location,search:t.toString()})}),[l,r])]}function g(e){const{defaultValue:t,queryString:n=!1,groupId:r}=e,l=c(e),[i,s]=(0,a.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!m({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const r=n.find((e=>e.default))??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:l}))),[p,u]=h({queryString:n,groupId:r}),[d,g]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[r,l]=(0,o.Nk)(n);return[r,(0,a.useCallback)((e=>{n&&l.set(e)}),[n,l])]}({groupId:r}),k=(()=>{const e=p??d;return m({value:e,tabValues:l})?e:null})();(0,a.useLayoutEffect)((()=>{k&&s(k)}),[k]);return{selectedValue:i,selectValue:(0,a.useCallback)((e=>{if(!m({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);s(e),u(e),g(e)}),[u,g,l]),tabValues:l}}var k=n(2389);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function f(e){let{className:t,block:n,selectedValue:s,selectValue:p,tabValues:u}=e;const o=[],{blockElementScrollPositionUntilNextRender:d}=(0,i.o5)(),c=e=>{const t=e.currentTarget,n=o.indexOf(t),r=u[n].value;r!==s&&(d(t),p(r))},m=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const n=o.indexOf(e.currentTarget)+1;t=o[n]??o[0];break}case"ArrowLeft":{const n=o.indexOf(e.currentTarget)-1;t=o[n]??o[o.length-1];break}}t?.focus()};return a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":n},t)},u.map((e=>{let{value:t,label:n,attributes:i}=e;return a.createElement("li",(0,r.Z)({role:"tab",tabIndex:s===t?0:-1,"aria-selected":s===t,key:t,ref:e=>o.push(e),onKeyDown:m,onClick:c},i,{className:(0,l.Z)("tabs__item",b.tabItem,i?.className,{"tabs__item--active":s===t})}),n??t)})))}function v(e){let{lazy:t,children:n,selectedValue:r}=e;const l=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=l.find((e=>e.props.value===r));return e?(0,a.cloneElement)(e,{className:"margin-top--md"}):null}return a.createElement("div",{className:"margin-top--md"},l.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==r}))))}function w(e){const t=g(e);return a.createElement("div",{className:(0,l.Z)("tabs-container",b.tabList)},a.createElement(f,(0,r.Z)({},e,t)),a.createElement(v,(0,r.Z)({},e,t)))}function N(e){const t=(0,k.Z)();return a.createElement(w,(0,r.Z)({key:String(t)},e))}},6084:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>p,default:()=>h,frontMatter:()=>s,metadata:()=>u,toc:()=>d});var r=n(7462),a=(n(7294),n(3905)),l=n(4866),i=n(5162);const s={id:"vserver_linux_nextcloud",title:"Nextcloud auf Server installieren",description:"Informationen, wie du einen Nextcloud Server auf deinem vServer von ZAP-Hosting einrichten kannst - ZAP-Hosting.com Dokumentationen",sidebar_label:"Nextcloud"},p=void 0,u={unversionedId:"vserver_linux_nextcloud",id:"vserver_linux_nextcloud",title:"Nextcloud auf Server installieren",description:"Informationen, wie du einen Nextcloud Server auf deinem vServer von ZAP-Hosting einrichten kannst - ZAP-Hosting.com Dokumentationen",source:"@site/i18n/de/docusaurus-plugin-content-docs/current/vserver_linux_nextcloud.md",sourceDirName:".",slug:"/vserver_linux_nextcloud",permalink:"/guides/de/docs/vserver_linux_nextcloud",draft:!1,editUrl:"https://github.com/zaphosting/docs/tree/master/docs/vserver_linux_nextcloud.md",tags:[],version:"current",frontMatter:{id:"vserver_linux_nextcloud",title:"Nextcloud auf Server installieren",description:"Informationen, wie du einen Nextcloud Server auf deinem vServer von ZAP-Hosting einrichten kannst - ZAP-Hosting.com Dokumentationen",sidebar_label:"Nextcloud"},sidebar:"vpsrootSidebar",previous:{title:"MariaDB (MySQL) Installation",permalink:"/guides/de/docs/vserver_linux_mariadbinstall"},next:{title:"Mastodon installieren",permalink:"/guides/de/docs/vserver_linux_mastodon"}},o={},d=[{value:"Was ist Nextcloud?",id:"was-ist-nextcloud",level:2},{value:"Nextcloud einrichten",id:"nextcloud-einrichten",level:2},{value:"Vorbereitung",id:"vorbereitung",level:3},{value:"Installation",id:"installation",level:3},{value:"Absicherung und Sicherheit",id:"absicherung-und-sicherheit",level:3},{value:"Nextcloud verwalten",id:"nextcloud-verwalten",level:2}],c={toc:d},m="wrapper";function h(e){let{components:t,...n}=e;return(0,a.kt)(m,(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"was-ist-nextcloud"},"Was ist Nextcloud?"),(0,a.kt)("p",null,"Nextcloud ist eine Open-Source-Cloud-L\xf6sung und Abspaltung von Owncloud, die 2016 vom ehemaligen Owncloud-Gr\xfcnder Frank Kalitschek aufgrund unterschiedlicher Auffassungen ins Leben gerufen wurde."),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/13604413/159172333-5c613339-d564-4852-8b32-d3661d283534.png",alt:"image"})),(0,a.kt)("p",null,"Um eine optimale Leistung, Stabilit\xe4t und Funktionalit\xe4t zu gew\xe4hrleisten, wird f\xfcr den Betrieb eines Nextcloud-Servers die folgende Einrichtung empfohlen. Der Nextcloud-Server ist nicht mit Windows und MacOS kompatibel. Zumindest nicht ohne weitere Virtualisierung oder \xe4hnlichen Workarounds.",(0,a.kt)("br",null)),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Systemvoraussetzungen")),(0,a.kt)("br",null),"**Hardware**",(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},(0,a.kt)("strong",{parentName:"th"},"Components")),(0,a.kt)("th",{parentName:"tr",align:null},"Minimum"),(0,a.kt)("th",{parentName:"tr",align:null},"Recommended"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"CPU"),(0,a.kt)("td",{parentName:"tr",align:null},"2x 1 GHz"),(0,a.kt)("td",{parentName:"tr",align:null},"4x 2+ GHz")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"RAM"),(0,a.kt)("td",{parentName:"tr",align:null},"512 MB"),(0,a.kt)("td",{parentName:"tr",align:null},"4+ GB")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Disc"),(0,a.kt)("td",{parentName:"tr",align:null},"10 GB"),(0,a.kt)("td",{parentName:"tr",align:null},"50+ GB")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Bandwidth"),(0,a.kt)("td",{parentName:"tr",align:null},"100 mbit/s (up & down)"),(0,a.kt)("td",{parentName:"tr",align:null},"500mbit/s (up & down) Sinnvoll, wenn mehrere User die Cloud benutzen sollen")))),(0,a.kt)("br",null),"**Software**",(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Platform"),(0,a.kt)("th",{parentName:"tr",align:null},"Options"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Operating System"),(0,a.kt)("td",{parentName:"tr",align:null},"Ubuntu (14.04, 16.04, 18.04), Debian(8,9,10), CentOS 6.5/7")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Database"),(0,a.kt)("td",{parentName:"tr",align:null},"MySQL or MariaDB 5.5+ (recommended),  SQLite (only recommended for testing and minimal-instances)")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Web server"),(0,a.kt)("td",{parentName:"tr",align:null},"Apache 2.4 with ",(0,a.kt)("inlineCode",{parentName:"td"},"mod_php")," or ",(0,a.kt)("inlineCode",{parentName:"td"},"php-fpm")," (recommended)")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"PHP"),(0,a.kt)("td",{parentName:"tr",align:null},"5.6, 7.0 (recommended), 7.1 (recommended), 7.2")))),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u26a0\ufe0f Die Anforderungen wurden aus unseren eigenen Erfahrungen und den Informationen der Entwickler zusammengestellt.")),(0,a.kt)("h2",{id:"nextcloud-einrichten"},"Nextcloud einrichten"),(0,a.kt)("h3",{id:"vorbereitung"},"Vorbereitung"),(0,a.kt)("p",null,"Damit die Cloud auf einem Linux-Server installiert werden kann, muss eine Verbindung \xfcber einen SSH-Client hergestellt werden. Wenn du dir nicht sicher bist, wie man SSH benutzt, findest du hier eine Anleitung dazu: ",(0,a.kt)("a",{parentName:"p",href:"/guides/de/docs/vserver_linux_ssh"},"Erstzugriff (SSH)")),(0,a.kt)("p",null,"Sobald die Verbindung hergestellt wurde, ist es m\xf6glich, mit der Installation der notwendigen Pakete zu beginnen, welche f\xfcr die eigentliche Installation von Nextcloud erforderlich sind. Dazu geh\xf6rt zum einen die Installation eines Webservers als auch PHP."),(0,a.kt)(l.Z,{mdxType:"Tabs"},(0,a.kt)(i.Z,{value:"Debian",label:"Debian",mdxType:"TabItem"},(0,a.kt)("br",null),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Apache (Web server)")),(0,a.kt)("p",null,"\ud83d\uddc4\ufe0f Debian 8/9/10:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"sudo apt update && sudo apt -y upgrade\nsudo apt -y install apache2\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"PHP (Hypertext Preprocessor)")),(0,a.kt)("p",null,"\ud83d\uddc4\ufe0f Debian 8:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'# Schritt 1: Hinzuf\xfcgen des PHP 7.3 PPA Repository\nsudo apt -y install lsb-release apt-transport-https ca-certificates \nsudo wget -O /etc/apt/trusted.gpg.d/php.gpg https://packages.sury.org/php/apt.gpg\necho "deb https://packages.sury.org/php/ $(lsb_release -sc) main" | sudo tee /etc/apt/sources.list.d/php7.3.list\n\n# Schritt 2: PHP 7.3 installieren\nsudo apt -y install php7.3\n\n# Schritt 3: PHP 7.3 Erweiterungen installieren\nsudo apt install php7.3-cli php7.3-fpm php7.3-json php7.3-pdo php7.3-mysql php7.3-zip php7.3-gd  php7.3-mbstring php7.3-curl php7.3-xml php7.3-bcmath php7.3-json\n')),(0,a.kt)("p",null,"\ud83d\uddc4\ufe0f Debian 9:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'# Schritt 1: Hinzuf\xfcgen des PHP 7.3 PPA Repository\nsudo apt -y install lsb-release apt-transport-https ca-certificates \nsudo wget -O /etc/apt/trusted.gpg.d/php.gpg https://packages.sury.org/php/apt.gpg\necho "deb https://packages.sury.org/php/ $(lsb_release -sc) main" | sudo tee /etc/apt/sources.list.d/php7.3.list\n\n# Schritt 2: PHP 7.3 installieren\nsudo apt -y install php7.3\n\n# Schritt 3: PHP 7.3 Erweiterungen installieren\nsudo apt install php7.3-cli php7.3-fpm php7.3-json php7.3-pdo php7.3-mysql php7.3-zip php7.3-gd  php7.3-mbstring php7.3-curl php7.3-xml php7.3-bcmath php7.3-json\n')),(0,a.kt)("p",null,"\ud83d\uddc4\ufe0f Debian 10:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"# Schritt 1: PHP 7.3 installieren\nsudo apt -y install php php-common\n\n# Schritt 2: PHP 7.3 Erweiterungen installieren\nsudo apt -y install php-cli php-fpm php-json php-pdo php-mysql php-zip php-gd  php-mbstring php-curl php-xml php-pear php-bcmath\n")),(0,a.kt)("p",null,"PHP-Version auf Funktionalit\xe4t pr\xfcfen"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"php -v\n"))),(0,a.kt)(i.Z,{value:"Ubuntu",label:"Ubuntu",mdxType:"TabItem"},(0,a.kt)("br",null),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Apache (Web server)")),(0,a.kt)("p",null,"\ud83d\uddc4\ufe0f Ubuntu 16.X/18.X/19.X:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"sudo apt update && sudo apt -y upgrade\nsudo apt-get -y install apache2\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"PHP (Hypertext Preprocessor)")),(0,a.kt)("p",null,"\ud83d\uddc4\ufe0f Ubuntu 16.X:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"# Schritt 1: PHP 7.3 PPA hinzuf\xfcgen\nsudo apt-get install software-properties-common\nsudo add-apt-repository ppa:ondrej/php\n\n# Schritt 2: PHP 7.3 installieren\nsudo apt-get update\nsudo apt-get install -y php7.3\n\n# Schritt 3: PHP 7.3 Erweiterungen installieren\nsudo apt install php7.3-cli php7.3-fpm php7.3-json php7.3-pdo php7.3-mysql php7.3-zip php7.3-gd  php7.3-mbstring php7.3-curl php7.3-xml php7.3-bcmath php7.3-json\n")),(0,a.kt)("p",null,"\ud83d\uddc4\ufe0f Ubuntu 18.X:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"# Schritt 1: PHP 7.3 PPA hinzuf\xfcgen\nsudo apt-get install software-properties-common\nsudo add-apt-repository ppa:ondrej/php\n\n# Schritt 2: PHP 7.3 installieren\nsudo apt-get update\nsudo apt-get install -y php7.3\n\n# Schritt 3: PHP 7.3 Erweiterungen installieren\nsudo apt install php7.3-cli php7.3-fpm php7.3-json php7.3-pdo php7.3-mysql php7.3-zip php7.3-gd  php7.3-mbstring php7.3-curl php7.3-xml php7.3-bcmath php7.3-json\n")),(0,a.kt)("p",null,"\ud83d\uddc4\ufe0f Ubuntu 19.X:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"# Schritt 1: PHP 7.3 PPA hinzuf\xfcgen\nsudo apt-get install software-properties-common\nsudo add-apt-repository ppa:ondrej/php\n\n# Schritt 2: PHP 7.3 installieren\nsudo apt-get update\nsudo apt-get install -y php7.3\n\n# Schritt 3: PHP 7.3 Erweiterungen installieren\nsudo apt install php7.3-cli php7.3-fpm php7.3-json php7.3-pdo php7.3-mysql php7.3-zip php7.3-gd  php7.3-mbstring php7.3-curl php7.3-xml php7.3-bcmath php7.3-json\n")),(0,a.kt)("p",null,"PHP-Version auf Funktionalit\xe4t pr\xfcfen"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"php -v\n"))),(0,a.kt)(i.Z,{value:"CentOS",label:"CentOS",mdxType:"TabItem"},(0,a.kt)("br",null),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Apache (Web server)")),(0,a.kt)("p",null,"\ud83d\uddc4\ufe0f CentOS 6:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"sudo yum -y update\nsudo yum -y install httpd\nsudo firewall-cmd --permanent --zone=public --add-service=http\nsudo firewall-cmd --permanent --zone=public --add-service=https\nsudo firewall-cmd --reload\nsudo systemctl start httpd\nsudo systemctl enable httpd.service\n")),(0,a.kt)("p",null,"\ud83d\uddc4\ufe0f CentOS 7:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"sudo yum -y update\nsudo yum -y install httpd\nsudo firewall-cmd --permanent --zone=public --add-service=http\nsudo firewall-cmd --permanent --zone=public --add-service=https\nsudo firewall-cmd --reload\nsudo systemctl start httpd\nsudo systemctl enable httpd\n")),(0,a.kt)("p",null,"\ud83d\uddc4\ufe0f CentOS 8:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"sudo yum -y update\nsudo yum -y install httpd\nsudo firewall-cmd --permanent --zone=public --add-service=http\nsudo firewall-cmd --permanent --zone=public --add-service=https\nsudo firewall-cmd --reload\nsudo systemctl start httpd\nsudo systemctl enable httpd\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"PHP (Hypertext Preprocessor)")),(0,a.kt)("p",null,"\ud83d\uddc4\ufe0f CentOS 6:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"# Schritt 1: Yum-Repository einrichten\nyum install epel-release\nrpm -Uvh http://rpms.famillecollet.com/enterprise/remi-release-6.rpm\n\n# Schritt 2: PHP 7.3 installieren\nyum --enablerepo=remi-php73 install php\n\n# Schritt 3: PHP 7.3 Erweiterungen installieren\nyum --enablerepo=remi-php73 install php-xml php-soap php-xmlrpc php-mbstring php-json php-gd php-mcrypt\n")),(0,a.kt)("p",null,"\ud83d\uddc4\ufe0f CentOS 7:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"# Schritt 1: Yum-Repository einrichten\nyum install epel-release\nrpm -Uvh http://rpms.famillecollet.com/enterprise/remi-release-7.rpm\n\n# Schritt 2: PHP 7.3 installieren\nyum --enablerepo=remi-php73 install php\n\n# Schritt 3: PHP 7.3 Erweiterungen installieren\nyum --enablerepo=remi-php73 install php-xml php-soap php-xmlrpc php-mbstring php-json php-gd php-mcrypt\n")),(0,a.kt)("p",null,"\ud83d\uddc4\ufe0f CentOS 8:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"# Schritt 1: Yum-Repository einrichten\ndnf install dnf-utils http://rpms.remirepo.net/enterprise/remi-release-8.rpm\n\n# Schritt 2: PHP 7.3 installieren\ndnf module reset php\ndnf module enable php:remi-7.3\ndnf install php\n")),(0,a.kt)("p",null,"PHP-Version auf Funktionalit\xe4t pr\xfcfen"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"php -v\n")))),(0,a.kt)("p",null,"Als N\xe4chstes wird ein Datenbank Typ ben\xf6tigt um die relevanten Informationen abspeichern zu k\xf6nnen. Dabei gibt es mehrere Optionen:"),(0,a.kt)(l.Z,{mdxType:"Tabs"},(0,a.kt)(i.Z,{value:"MariaDB",label:"MariaDB",mdxType:"TabItem"},(0,a.kt)("br",null),"Wenn du dich f\xfcr diesen Datenbanktypen entschieden hast, dann musst du folgende Schritte befolgen:",(0,a.kt)("p",null,"Pakete installieren:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"sudo apt-get install mariadb-server php-mysql\n")),(0,a.kt)("p",null,"W\xe4hrend der Installation wird man aufgefordert, ein Root-Passwort  zu setzen. Wenn keine Aufforderung zur Auswahl eines Passworts kommt, ist das Standardpasswort leer. Dies ist unsicher und sollte daher unmittelbar danach ge\xe4ndert werden! "),(0,a.kt)("p",null,"Der n\xe4chste Schritt besteht darin, eine Verbindung zum Datenbankserver herzustellen und die erforderliche Datenbank zu erstellen:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql"},"mysql -u root -p\nCREATE DATABASE nextcloud;\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE USER 'nc_user'@'localhost' IDENTIFIED BY 'YOUR_PASSWORD_HERE';\n")),(0,a.kt)("p",null,"Danach muss ein Benutzer angelegt werden, welcher Zugriff auf die Nextcloud DB erh\xe4lt. "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE USER 'nc_user'@'localhost' IDENTIFIED BY 'YOUR_PASSWORD_HERE';\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u26a0\ufe0f \xdcberspringen diesen Schritt nicht, indem der Benutzer root verwendet wird. Dies ist nicht sicher und gef\xe4hrdet deine Daten!")),(0,a.kt)("p",null,"Der letzte Schritt ist die Vergabe der Berechtigungen f\xfcr den neuen Benutzer:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-SQL"},"GRANT ALL PRIVILEGES ON nextcloud.* TO 'nc_user'@'localhost';\nFLUSH PRIVILEGES;\n")),(0,a.kt)("p",null,"Wenn du damit fertig bist, dann kannst du Strg-D dr\xfccken, um die Datenbank zu verlassen um mit den weiteren Schritten fortzufahren.")),(0,a.kt)(i.Z,{value:"MySQL",label:"MySQL",mdxType:"TabItem"},(0,a.kt)("br",null),"Wenn du dich f\xfcr diesen Datenbanktypen entschieden hast, dann musst du folgende Schritte befolgen:",(0,a.kt)("p",null,"Pakete installieren:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"sudo apt-get install mysql-server php-mysql\n")),(0,a.kt)("p",null,"W\xe4hrend der Installation wird man aufgefordert, ein Root-Passwort  zu setzen. Wenn keine Aufforderung zur Auswahl eines Passworts kommt, ist das Standardpasswort leer. Dies ist unsicher und sollte daher unmittelbar danach ge\xe4ndert werden! "),(0,a.kt)("p",null,"Der n\xe4chste Schritt besteht darin, eine Verbindung zum Datenbankserver herzustellen und die erforderliche Datenbank zu erstellen:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql"},"mysql -u root -p\nCREATE DATABASE nextcloud;\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE USER 'nc_user'@'localhost' IDENTIFIED BY 'YOUR_PASSWORD_HERE';\n")),(0,a.kt)("p",null,"Danach muss ein Benutzer angelegt werden, welcher Zugriff auf die Nextcloud DB erh\xe4lt. "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE USER 'nc_user'@'localhost' IDENTIFIED BY 'YOUR_PASSWORD_HERE';\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\xdcberspringen diesen Schritt nicht, indem der Benutzer root verwendet wird. Dies ist nicht sicher und gef\xe4hrdet deine Daten!")),(0,a.kt)("p",null,"Der letzte Schritt ist die Vergabe der Berechtigungen f\xfcr den neuen Benutzer:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-SQL"},"GRANT ALL PRIVILEGES ON nextcloud.* TO 'nc_user'@'localhost';\nFLUSH PRIVILEGES;\n")),(0,a.kt)("p",null,"Wenn du damit fertig bist, dann kannst du Strg-D dr\xfccken, um die Datenbank zu verlassen um mit den weiteren Schritten fortzufahren.")),(0,a.kt)(i.Z,{value:"PostgreSQL",label:"PostgreSQL",mdxType:"TabItem"},(0,a.kt)("br",null),"Wenn du dich f\xfcr diesen Datenbanktypen entschieden hast, dann musst du folgende Schritte befolgen:",(0,a.kt)("p",null,"Pakete installieren:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"sudo apt-get update\nsudo apt-get install postgresql postgresql-contrib\n")),(0,a.kt)("p",null,"W\xe4hrend der Installation wird man aufgefordert, ein Root-Passwort zu setzen."),(0,a.kt)("p",null,"Der n\xe4chste Schritt besteht darin, eine Verbindung zum Datenbankserver herzustellen und die erforderliche Datenbank zu erstellen:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql"},"sudo -u postgres psql\nCREATE DATABASE nextcloud;\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE USER nextcloud with encrypted password 'YOUR_PASSWORD_HERE';\n")),(0,a.kt)("p",null,"Danach muss ein Benutzer angelegt werden, welcher Zugriff auf die Nextcloud DB erh\xe4lt. "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE USER 'nc_user'@'localhost' IDENTIFIED BY 'YOUR_PASSWORD_HERE';\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\xdcberspringe diesen Schritt nicht, indem der Benutzer root verwendet wird. Dies ist nicht sicher und gef\xe4hrdet deine Daten!")),(0,a.kt)("p",null,"Der letzte Schritt ist die Vergabe der Berechtigungen f\xfcr den neuen Benutzer:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-SQL"},"grant all privileges on database mydb to myuser;\nFLUSH PRIVILEGES;\n")),(0,a.kt)("p",null,"Wenn du damit fertig bist, dann kannst du Strg-D dr\xfccken, um die Datenbank zu verlassen. Im Anschluss kann die PostgreSQL Datenbank entweder \xfcber den Webinstaller oder \xfcber die ",(0,a.kt)("strong",{parentName:"p"},"config.php")," Config bearbeitet werden."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'<?php\n$AUTOCONFIG = array(\n  "dbtype"        => "pgsql",\n  "dbname"        => "nextcloud",\n  "dbuser"        => "username",\n  "dbpass"        => "password",\n  "dbhost"        => "localhost",\n  "dbtableprefix" => "",\n);\n'))),(0,a.kt)(i.Z,{value:"SQLite",label:"SQLite",mdxType:"TabItem"},(0,a.kt)("br",null),"Wenn du dich f\xfcr diesen Datenbanktypen entschieden hast, dann musst du folgende Schritte befolgen:",(0,a.kt)("p",null,"Pakete installieren:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"apt-get install sqlite3 php-sqlite3\n")),(0,a.kt)("p",null,"Neue SQLite 3 Datenbank anlegen"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"sqlite3 DatabaseName.db\n")),(0,a.kt)("p",null,"Im Anschluss kann die SQLite 3 Datenbank entweder \xfcber den Webinstaller oder \xfcber die ",(0,a.kt)("strong",{parentName:"p"},"config.php")," Config bearbeitet werden."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'<?php\n$AUTOCONFIG = array(\n  "dbtype"        => "sqlite",\n  "dbname"        => "nextcloud",\n  "dbtableprefix" => "",\n);\n')))),(0,a.kt)("h3",{id:"installation"},"Installation"),(0,a.kt)("p",null,"Nun kann die eigentliche Installation von Nextcloud gestartet werden. Die Software muss heruntergeladen und entpackt werden:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"cd /var/www/nextcloud/\nwget https://download.nextcloud.com/server/releases/nextcloud-16.0.4.zip\napt-get install unzip\nunzip nextcloud-16.0.4.zip\nchown -R www-data:www-data nextcloud\nrm nextcloud-16.0.4.zip\n")),(0,a.kt)("p",null,"Wenn dieser Schritt abgeschlossen ist, dann ist es an der Zeit  das Installationsscript auszuf\xfchren. Der Zugriff erfolgt \xfcber den Browser mit folgender Adresse:"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("a",{parentName:"strong",href:"http://domain.tld/nextcloud/"},"http://domain.tld/nextcloud/"))," ")),(0,a.kt)("p",null,"Es erscheint die Konfiguration des Installationsscipt, in der ein Root-Benutzer angelegt und die Datenbankinformationen definiert werden:"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/13604413/159172340-920fdf9f-7646-447d-b8c5-cd472627b9b5.png",alt:"image"})),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/13604413/159172341-efd5c39c-cf32-44d5-8518-51632d3fb475.png",alt:"image"})),(0,a.kt)("h3",{id:"absicherung-und-sicherheit"},"Absicherung und Sicherheit"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Setup Warnungen")),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/13604413/159172343-b8d041bc-2b9f-429d-9a87-54d6f86d8973.png",alt:"image"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Daten-Verzeichnis")),(0,a.kt)("p",null,"Es wird dringend empfohlen, das Datenverzeichnis au\xdferhalb des Web-Stammverzeichnisses zu platzieren (d.h. au\xdferhalb von /var/www). Am einfachsten ist es, dies bei einer Neuinstallation zu tun. Das Verzeichnis kann im Setup definiert werden. Allerdings muss das Verzeichnis zuerst erstellt und die entsprechenden Rechte gesetzt werden. Die Daten k\xf6nnten z.B. in einem Verzeichnis mit dem Namen Cloud im Home-Verzeichnis gespeichert werden."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"mkdir /home/cloud/\nchown -R www-data:www-data /home/cloud/\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"HTTPS via SSL-Zertifikat (Let's Encrypt)")," "),(0,a.kt)("p",null,"Eine gute Cloud sollte nur \xfcber eine SSL-Verschl\xfcsselung zug\xe4nglich sein. Ohne eine SSL-Verschl\xfcsselung werden die Daten und Informationen im Klartext \xfcbertragen. Solche Informationen k\xf6nnen ohne Verschl\xfcsselung schnell und einfach abgefangen und gelesen werden."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'<IfModule mod_ssl.c>\n<VirtualHost *:443>\n DocumentRoot "/var/www/html/cloud"\n ServerName domain.tld\n\n ErrorLog ${APACHE_LOG_DIR}/error.log\n CustomLog ${APACHE_LOG_DIR}/access.log combined\n\n<Directory /var/www/html/cloud/>\n Options +FollowSymlinks\n AllowOverride All\n\n <IfModule mod_dav.c>\n Dav off\n </IfModule>\n\n SetEnv HOME /var/www/html/cloud\n SetEnv HTTP_HOME /var/www/html/cloud\n Satisfy Any\n\n</Directory>\n\nSSLCertificateFile /etc/letsencrypt/live/domain.tld/fullchain.pem\nSSLCertificateKeyFile /etc/letsencrypt/live/domain.tld/privkey.pem\n</VirtualHost>\n</IfModule>\n\n<IfModule mod_headers.c>\n     Header always set Strict-Transport-Security "max-age=15768000; preload"\n </IfModule>\n')),(0,a.kt)("p",null,"Dar\xfcber hinaus sollte der gesamte HTTP-Verkehr unter Verwendung einer permanenten Umleitung mit Statuscode 301 auf HTTPS umgeleitet werden. Dies kann unter Verwendung des Apache mit einer Konfiguration wie der folgenden Apache-VirtualHosts-Konfiguration erreicht werden:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"<VirtualHost *:80>\n   ServerName domain.tld\n   Redirect permanent / https://domain.tld/\n</VirtualHost>\n")),(0,a.kt)("p",null,"Wenn du dir nicht sicher bist, wie du ein SSL-Zertifikat generieren kannst, dann findest du hier eine Anleitung dazu: ",(0,a.kt)("a",{parentName:"p",href:"/guides/de/docs/vserver_linux_ssh"},"Placeholder")),(0,a.kt)("h2",{id:"nextcloud-verwalten"},"Nextcloud verwalten"),(0,a.kt)("p",null,"Der Zugriff auf die Nextcloud ist sowohl \xfcber den Browser, als auch \xfcber das Smartphone und den Computer per App m\xf6glich. Die Downloadquellen sind hier zu finden: ",(0,a.kt)("a",{parentName:"p",href:"https://nextcloud.com/install/#install-clients"},"https://nextcloud.com/install/#install-clients")),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/13604413/159172347-25273458-2607-4c15-acfb-db2bfc1bf62d.png",alt:"image"})),(0,a.kt)("p",null,"Unter den Einstellungen k\xf6nnen auch nach der Einrichtung noch einige Optionen angepasst und wichtige Informationen wie Logs, Aktivit\xe4ten eingesehen werden. Dazu geh\xf6ren unter anderem zus\xe4tzliche Sicherheitseinstellungen (Zwei-Faktor-Authentifizierung, Verschl\xfcsselung, ... ), Designeinstellungen (Logo, Farbe, Slogan, Header), Zugriffseinstellungen und vieles mehr."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Apps")),(0,a.kt)("p",null,"Zus\xe4tzlich gibt es auch die M\xf6glichkeit neben den Standard Apps noch weitere Apps zu installieren. Diese k\xf6nnen \xfcber den Men\xfcpunkt ",(0,a.kt)("strong",{parentName:"p"},"Apps")," eingesehen werden."),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/13604413/159172353-708039fe-2697-4852-83d5-e132bf129f47.png",alt:"image"})),(0,a.kt)("p",null,"Mit solchen ",(0,a.kt)("strong",{parentName:"p"},"Apps")," ist es m\xf6glich die Nextcloud zus\xe4tzlich noch weiter nach seinen W\xfcnschen zu individualisieren."))}h.isMDXComponent=!0}}]);